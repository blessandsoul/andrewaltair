(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7594],{65978:function(e,t,s){Promise.resolve().then(s.bind(s,18692))},18692:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var a=s(57437),r=s(2265),n=s(89733),i=s(77209),l=s(4919),c=s(79055),d=s(48185),o=s(44541),u=s(2128),m=s(72655);let x=["\uD83E\uDD21","\uD83D\uDC7D","\uD83E\uDD16","\uD83D\uDC79","\uD83D\uDC7A","\uD83D\uDC80","\uD83D\uDC7B","\uD83C\uDF83","\uD83E\uDD20","\uD83E\uDD78","\uD83E\uDDD0","\uD83E\uDD13","\uD83D\uDE0E","\uD83E\uDD73","\uD83E\uDD2A","\uD83D\uDE1C","\uD83E\uDD11","\uD83E\uDD2F","\uD83E\uDD74","\uD83D\uDE35‍\uD83D\uDCAB","\uD83D\uDC38","\uD83E\uDD8A","\uD83D\uDC35","\uD83D\uDC37","\uD83D\uDC3B","\uD83D\uDC3C","\uD83D\uDC28","\uD83E\uDD81","\uD83D\uDC2F","\uD83E\uDD84","\uD83D\uDC32","\uD83E\uDD96","\uD83E\uDD95","\uD83D\uDC19","\uD83E\uDD91","\uD83E\uDD9E","\uD83E\uDD80","\uD83D\uDC21","\uD83D\uDC20","\uD83E\uDD88","\uD83C\uDF1A","\uD83C\uDF1D","\uD83C\uDF1E","\uD83D\uDD2E","\uD83C\uDFA9","\uD83D\uDC51","\uD83C\uDFAA","\uD83C\uDFAD","\uD83C\uDCCF","\uD83E\uDDD9‍♂️","\uD83E\uDDDB","\uD83E\uDDDF","\uD83E\uDDDE","\uD83E\uDDDC‍♂️","\uD83E\uDDDD","\uD83E\uDDB8","\uD83E\uDDB9","\uD83E\uDD77","\uD83C\uDF85","\uD83E\uDD34","\uD83D\uDC68‍\uD83C\uDFA4","\uD83D\uDC69‍\uD83D\uDE80","\uD83D\uDC68‍\uD83D\uDD2C","\uD83D\uDC69‍\uD83C\uDFA8","\uD83D\uDD75️","\uD83D\uDC77","\uD83D\uDC82","\uD83E\uDD35","\uD83D\uDC78","\uD83E\uDDD1‍\uD83C\uDF84"];function h(e){let t=0;for(let s=0;s<e.length;s++)t=(t<<5)-t+e.charCodeAt(s),t&=t;let s=Math.abs(t)%x.length;return x[s]}function f(e){let t=new Date(e),s=Math.floor((new Date().getTime()-t.getTime())/1e3);return s<60?"ახლახანს":s<3600?"".concat(Math.floor(s/60)," წთ წინ"):s<86400?"".concat(Math.floor(s/3600)," სთ წინ"):s<604800?"".concat(Math.floor(s/86400)," დღე წინ"):t.toLocaleDateString("ka")}function p(){let[e,t]=r.useState([]),[s,x]=r.useState(!0),[p,v]=r.useState(""),[g,j]=r.useState("all");r.useEffect(()=>{!async function(){try{let e=await fetch("/api/comments?limit=100");if(e.ok){let s=((await e.json()).comments||[]).map(e=>{var t,s;return{id:e.id,postId:e.postId,postTitle:e.postTitle||"Unknown Post",author:(null===(t=e.author)||void 0===t?void 0:t.name)||"Anonymous",email:null===(s=e.author)||void 0===s?void 0:s.email,content:e.content||"",createdAt:e.createdAt,likes:e.likes||0,isApproved:"approved"===e.status,parentId:e.parentId,isSpam:e.isSpam||"spam"===e.status}});t(s)}}catch(e){console.error("Error fetching comments:",e)}finally{x(!1)}}()},[]);let[D,b]=r.useState(null),[N,w]=r.useState(""),[y,C]=r.useState("all"),[k,z]=r.useState(new Set),[S,E]=r.useState(null),[A,T]=r.useState(""),[O,R]=r.useState(["სპამი","რეკლამა","casino","იყიდე"]),[_,F]=r.useState(!1),[I,Y]=r.useState(""),[P,B]=r.useState({notifyOnNew:!0,notifyAuthorOnReply:!0}),[Z,L]=r.useState(!1),[V,U]=r.useState(null),[$,J]=r.useState(new Set),[M,X]=r.useState(1),[K,Q]=r.useState("date"),[q,G]=r.useState("desc"),[W,H]=r.useState(new Set),[ee,et]=r.useState(null),es=e=>{let t=e.toLowerCase();return O.some(e=>t.includes(e.toLowerCase()))},ea=e.filter(e=>!e.parentId).filter(e=>{let t=e.author.toLowerCase().includes(p.toLowerCase())||e.content.toLowerCase().includes(p.toLowerCase())||e.postTitle.toLowerCase().includes(p.toLowerCase()),s="all"===g||"approved"===g&&e.isApproved&&!e.isSpam||"pending"===g&&!e.isApproved&&!e.isSpam||"spam"===g&&(e.isSpam||es(e.content)),a=function(e,t){let s=new Date(e),a=(new Date().getTime()-s.getTime())/864e5;switch(t){case"today":return a<1;case"week":return a<7;case"month":return a<30;default:return!0}}(e.createdAt,y),r=!$.has(e.author);return t&&s&&a&&r}),er=[...ea].sort((e,t)=>{let s=0;switch(K){case"date":s=new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime();break;case"likes":s=e.likes-t.likes;break;case"author":s=e.author.localeCompare(t.author)}return"asc"===q?s:-s}),en=Math.ceil(er.length/5),ei=er.slice((M-1)*5,5*M),el=t=>e.filter(e=>e.parentId===t),ec=async s=>{try{(await fetch("/api/comments/".concat(s),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"approved",isSpam:!1})})).ok&&t(e.map(e=>e.id===s?{...e,isApproved:!0,isSpam:!1}:e))}catch(e){console.error("Approve error:",e)}},ed=async s=>{try{(await fetch("/api/comments/".concat(s),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"rejected"})})).ok&&t(e.map(e=>e.id===s?{...e,isApproved:!1}:e))}catch(e){console.error("Reject error:",e)}},eo=async s=>{try{(await fetch("/api/comments/".concat(s),{method:"DELETE"})).ok&&(t(e.filter(e=>e.id!==s&&e.parentId!==s)),et(null),z(e=>{let t=new Set(e);return t.delete(s),t}))}catch(e){console.error("Delete error:",e)}},eu=async s=>{if(!N.trim())return;let a=e.find(e=>e.id===s);try{let r=await fetch("/api/comments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({postId:null==a?void 0:a.postId,author:{name:"Admin"},content:N,parentId:s,status:"approved"})});if(r.ok){let n={id:(await r.json()).comment.id,postId:(null==a?void 0:a.postId)||"",postTitle:(null==a?void 0:a.postTitle)||"",author:"Admin",content:N,createdAt:new Date().toISOString(),likes:0,isApproved:!0,parentId:s};t([...e,n])}}catch(e){console.error("TbArrowBackUp error:",e)}b(null),w("")},em=async()=>{try{await Promise.all(Array.from(k).map(e=>fetch("/api/comments/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"approved",isSpam:!1})}))),t(e.map(e=>k.has(e.id)?{...e,isApproved:!0,isSpam:!1}:e)),z(new Set)}catch(e){console.error("Bulk approve error:",e)}},ex=async()=>{try{await Promise.all(Array.from(k).map(e=>fetch("/api/comments/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"rejected"})}))),t(e.map(e=>k.has(e.id)?{...e,isApproved:!1}:e)),z(new Set)}catch(e){console.error("Bulk reject error:",e)}},eh=async()=>{try{await Promise.all(Array.from(k).map(e=>fetch("/api/comments/".concat(e),{method:"DELETE"}))),t(e.filter(e=>!k.has(e.id))),z(new Set)}catch(e){console.error("Bulk delete error:",e)}},ef=async s=>{if(A.trim())try{(await fetch("/api/comments/".concat(s),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:A})})).ok&&(t(e.map(e=>e.id===s?{...e,content:A,isSpam:es(A)}:e)),E(null),T(""))}catch(e){console.error("Edit error:",e)}},ep=()=>{I.trim()&&!O.includes(I.trim())&&(R([...O,I.trim()]),Y(""))},ev=e=>{R(O.filter(t=>t!==e))},eg=e=>{J(t=>{let s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s})},ej=e=>{H(t=>{let s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s})},eD=e.filter(e=>!e.isApproved&&!e.isSpam).length,eb=e.filter(e=>e.isSpam||es(e.content)).length,eN=t=>e.filter(e=>e.author===t);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[(0,a.jsx)(m.Rwq,{className:"w-8 h-8 text-primary"}),"კომენტარების მართვა"]}),(0,a.jsxs)("p",{className:"text-muted-foreground mt-1 flex items-center gap-2 flex-wrap",children:[ea.length," კომენტარი",eD>0&&(0,a.jsxs)(c.C,{variant:"destructive",children:[eD," მოლოდინში"]}),eb>0&&(0,a.jsxs)(c.C,{variant:"secondary",className:"bg-red-500/20 text-red-400",children:[eb," სპამი"]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,a.jsxs)(n.z,{variant:"outline",size:"sm",onClick:()=>F(!0),children:[(0,a.jsx)(m.$T2,{className:"w-4 h-4 mr-1"}),"სპამ ფილტრი"]}),(0,a.jsxs)(n.z,{variant:"outline",size:"sm",onClick:()=>L(!0),children:[(0,a.jsx)(m.QOK,{className:"w-4 h-4 mr-1"}),"შეტყობინებები"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,a.jsx)("div",{className:"flex rounded-lg border overflow-hidden",children:[{value:"all",label:"ყველა"},{value:"today",label:"დღეს"},{value:"week",label:"კვირა"},{value:"month",label:"თვე"}].map(e=>(0,a.jsxs)("button",{onClick:()=>{C(e.value),X(1)},className:"px-3 py-2 text-sm font-medium transition-colors ".concat(y===e.value?"bg-primary text-primary-foreground":"hover:bg-muted"),children:[(0,a.jsx)(m.RgR,{className:"w-3 h-3 inline mr-1"}),e.label]},e.value))}),(0,a.jsx)("div",{className:"flex rounded-lg border overflow-hidden",children:[{value:"all",label:"ყველა"},{value:"approved",label:"დამტკიცებული"},{value:"pending",label:"მოლოდინში"},{value:"spam",label:"სპამი"}].map(e=>(0,a.jsx)("button",{onClick:()=>{j(e.value),X(1)},className:"px-3 py-2 text-sm font-medium transition-colors ".concat(g===e.value?"bg-primary text-primary-foreground":"hover:bg-muted"),children:e.label},e.value))}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(u.Ph,{value:K,onValueChange:e=>Q(e),children:[(0,a.jsxs)(u.i4,{className:"w-[140px]",children:[(0,a.jsx)(m.hV$,{className:"w-4 h-4 mr-2"}),(0,a.jsx)(u.ki,{placeholder:"დალაგება"})]}),(0,a.jsxs)(u.Bw,{children:[(0,a.jsx)(u.Ql,{value:"date",children:"თარიღი"}),(0,a.jsx)(u.Ql,{value:"likes",children:"ლაიქები"}),(0,a.jsx)(u.Ql,{value:"author",children:"ავტორი"})]})]}),(0,a.jsx)(n.z,{variant:"outline",size:"icon",onClick:()=>G("asc"===q?"desc":"asc"),children:"asc"===q?(0,a.jsx)(m.YeS,{className:"w-4 h-4"}):(0,a.jsx)(m.YRR,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{className:"relative flex-1 min-w-[200px]",children:[(0,a.jsx)(m.adB,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,a.jsx)(i.I,{placeholder:"ძიება...",value:p,onChange:e=>{v(e.target.value),X(1)},className:"pl-10"})]})]}),k.size>0&&(0,a.jsx)(d.Zb,{className:"bg-primary/10 border-primary/30",children:(0,a.jsxs)(d.aY,{className:"py-3 flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"font-medium",children:[k.size," კომენტარი მონიშნულია"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(n.z,{size:"sm",variant:"outline",className:"text-green-500",onClick:em,children:[(0,a.jsx)(m.XDv,{className:"w-4 h-4 mr-1"}),"დამტკიცება"]}),(0,a.jsxs)(n.z,{size:"sm",variant:"outline",className:"text-yellow-500",onClick:ex,children:[(0,a.jsx)(m.Z2N,{className:"w-4 h-4 mr-1"}),"უარყოფა"]}),(0,a.jsxs)(n.z,{size:"sm",variant:"destructive",onClick:eh,children:[(0,a.jsx)(m.EF5,{className:"w-4 h-4 mr-1"}),"წაშლა"]})]})]})}),ei.length>0&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.X,{checked:k.size===ei.length&&ei.length>0,onCheckedChange:()=>{k.size===ei.length?z(new Set):z(new Set(ei.map(e=>e.id)))}}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"ყველას მონიშვნა"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[ei.map(e=>{let t=el(e.id),s=t.length>0,r=W.has(e.id),i=e.isSpam||es(e.content);return(0,a.jsx)(d.Zb,{className:"transition-all ".concat(e.isApproved||i?"":"border-yellow-500/50 bg-yellow-500/5"," ").concat(i?"border-red-500/50 bg-red-500/5":""," ").concat(k.has(e.id)?"ring-2 ring-primary":""),children:(0,a.jsx)(d.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("div",{className:"flex items-start pt-1",children:(0,a.jsx)(o.X,{checked:k.has(e.id),onCheckedChange:t=>{z(s=>{let a=new Set(s);return t?a.add(e.id):a.delete(e.id),a})}})}),(0,a.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 text-2xl ".concat("Admin"===e.author?"bg-gradient-to-br from-primary to-accent":"bg-secondary/50 backdrop-blur-sm"),children:"Admin"===e.author?"⭐":h(e.author)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,a.jsxs)("button",{onClick:()=>U(e.author),className:"font-semibold hover:text-primary transition-colors flex items-center gap-1",children:[(0,a.jsx)(m.S8z,{className:"w-3 h-3"}),e.author]}),"Admin"===e.author&&(0,a.jsx)(c.C,{variant:"secondary",className:"text-xs",children:"ადმინი"}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[(0,a.jsx)(m.rfE,{className:"w-3 h-3"}),f(e.createdAt)]}),!e.isApproved&&!i&&(0,a.jsx)(c.C,{variant:"outline",className:"text-yellow-500 border-yellow-500",children:"მოლოდინში"}),i&&(0,a.jsxs)(c.C,{variant:"destructive",children:[(0,a.jsx)(m.$T2,{className:"w-3 h-3 mr-1"}),"სპამი"]})]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground mt-1",children:["პოსტზე: ",(0,a.jsx)("span",{className:"text-foreground",children:e.postTitle})]}),S===e.id?(0,a.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,a.jsx)(l.g,{value:A,onChange:e=>T(e.target.value),rows:3}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(n.z,{size:"sm",onClick:()=>ef(e.id),children:"შენახვა"}),(0,a.jsx)(n.z,{size:"sm",variant:"outline",onClick:()=>E(null),children:"გაუქმება"})]})]}):(0,a.jsx)("p",{className:"mt-2",children:e.content}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(m.KdP,{className:"w-4 h-4"}),e.likes]}),s&&(0,a.jsxs)("button",{onClick:()=>ej(e.id),className:"flex items-center gap-1 hover:text-foreground transition-colors",children:[(0,a.jsx)(m.Rwq,{className:"w-4 h-4"}),t.length," პასუხი",r?(0,a.jsx)(m.YeS,{className:"w-3 h-3"}):(0,a.jsx)(m.YRR,{className:"w-3 h-3"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,a.jsxs)(n.z,{variant:"ghost",size:"sm",onClick:()=>b(e.id),children:[(0,a.jsx)(m.owl,{className:"w-4 h-4 mr-1"}),"პასუხი"]}),(0,a.jsxs)(n.z,{variant:"ghost",size:"sm",onClick:()=>{E(e.id),T(e.content)},children:[(0,a.jsx)(m.EMN,{className:"w-4 h-4 mr-1"}),"რედაქტირება"]}),e.isApproved?(0,a.jsxs)(n.z,{variant:"ghost",size:"sm",className:"text-yellow-500 hover:text-yellow-600",onClick:()=>ed(e.id),children:[(0,a.jsx)(m.Z2N,{className:"w-4 h-4 mr-1"}),"უარყოფა"]}):(0,a.jsxs)(n.z,{variant:"outline",size:"sm",className:"text-green-500 hover:text-green-600",onClick:()=>ec(e.id),children:[(0,a.jsx)(m.XDv,{className:"w-4 h-4 mr-1"}),"დამტკიცება"]}),(0,a.jsx)(n.z,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>et(e.id),children:(0,a.jsx)(m.EF5,{className:"w-4 h-4"})})]})]}),D===e.id&&(0,a.jsxs)("div",{className:"mt-4 p-4 bg-muted/50 rounded-lg space-y-3",children:[(0,a.jsx)(l.g,{value:N,onChange:e=>w(e.target.value),placeholder:"დაწერე პასუხი...",rows:3}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(n.z,{size:"sm",onClick:()=>eu(e.id),children:[(0,a.jsx)(m.Oe$,{className:"w-4 h-4 mr-1"}),"გაგზავნა"]}),(0,a.jsx)(n.z,{size:"sm",variant:"outline",onClick:()=>b(null),children:"გაუქმება"})]})]}),r&&s&&(0,a.jsx)("div",{className:"mt-4 ml-6 border-l-2 border-muted pl-4 space-y-4",children:t.map(e=>(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 text-lg ".concat("Admin"===e.author?"bg-gradient-to-br from-primary to-accent":"bg-secondary/50"),children:"Admin"===e.author?"⭐":h(e.author)}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-semibold text-sm",children:e.author}),"Admin"===e.author&&(0,a.jsx)(c.C,{variant:"secondary",className:"text-xs",children:"ადმინი"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:f(e.createdAt)})]}),(0,a.jsx)("p",{className:"text-sm mt-1",children:e.content}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(m.KdP,{className:"w-3 h-3"}),e.likes]}),(0,a.jsxs)(n.z,{variant:"ghost",size:"sm",className:"h-6 text-xs text-destructive",onClick:()=>eo(e.id),children:[(0,a.jsx)(m.EF5,{className:"w-3 h-3 mr-1"}),"წაშლა"]})]})]})]},e.id))})]})]})})},e.id)}),0===ei.length&&(0,a.jsx)(d.Zb,{children:(0,a.jsxs)(d.aY,{className:"py-12 text-center text-muted-foreground",children:[(0,a.jsx)(m.Rwq,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,a.jsx)("p",{children:"კომენტარები ვერ მოიძებნა"})]})})]}),en>1&&(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(n.z,{variant:"outline",size:"icon",disabled:1===M,onClick:()=>X(e=>e-1),children:(0,a.jsx)(m.BY8,{className:"w-4 h-4"})}),(0,a.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:en},(e,t)=>t+1).map(e=>(0,a.jsx)(n.z,{variant:M===e?"default":"outline",size:"sm",onClick:()=>X(e),children:e},e))}),(0,a.jsx)(n.z,{variant:"outline",size:"icon",disabled:M===en,onClick:()=>X(e=>e+1),children:(0,a.jsx)(m.Ng7,{className:"w-4 h-4"})})]}),ee&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)(d.Zb,{className:"w-full max-w-md",children:[(0,a.jsx)(d.Ol,{children:(0,a.jsx)(d.ll,{className:"text-destructive",children:"წაშლის დადასტურება"})}),(0,a.jsxs)(d.aY,{className:"space-y-4",children:[(0,a.jsx)("p",{children:"ნამდვილად გსურთ ამ კომენტარის წაშლა?"}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(n.z,{variant:"outline",onClick:()=>et(null),children:"გაუქმება"}),(0,a.jsx)(n.z,{variant:"destructive",onClick:()=>eo(ee),children:"წაშლა"})]})]})]})}),_&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)(d.Zb,{className:"w-full max-w-md",children:[(0,a.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)(d.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(m.$T2,{className:"w-5 h-5"}),"სპამ ფილტრის პარამეტრები"]}),(0,a.jsx)(n.z,{variant:"ghost",size:"icon",onClick:()=>F(!1),children:(0,a.jsx)(m.lhV,{className:"w-4 h-4"})})]}),(0,a.jsxs)(d.aY,{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"კომენტარები, რომლებიც შეიცავს ამ სიტყვებს, ავტომატურად მოინიშნება როგორც სპამი."}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(i.I,{placeholder:"ახალი სიტყვა...",value:I,onChange:e=>Y(e.target.value),onKeyDown:e=>"Enter"===e.key&&ep()}),(0,a.jsx)(n.z,{onClick:ep,children:"დამატება"})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:O.map(e=>(0,a.jsxs)(c.C,{variant:"secondary",className:"flex items-center gap-1",children:[e,(0,a.jsx)("button",{onClick:()=>ev(e),children:(0,a.jsx)(m.lhV,{className:"w-3 h-3"})})]},e))})]})]})}),Z&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)(d.Zb,{className:"w-full max-w-md",children:[(0,a.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)(d.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(m.QOK,{className:"w-5 h-5"}),"Email შეტყობინებები"]}),(0,a.jsx)(n.z,{variant:"ghost",size:"icon",onClick:()=>L(!1),children:(0,a.jsx)(m.lhV,{className:"w-4 h-4"})})]}),(0,a.jsxs)(d.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"ახალი კომენტარები"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"შეტყობინება ახალი კომენტარების შესახებ"})]}),(0,a.jsx)(o.X,{checked:P.notifyOnNew,onCheckedChange:e=>B(t=>({...t,notifyOnNew:!!e}))})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"პასუხები ავტორს"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"აცნობე ავტორს პასუხის შესახებ"})]}),(0,a.jsx)(o.X,{checked:P.notifyAuthorOnReply,onCheckedChange:e=>B(t=>({...t,notifyAuthorOnReply:!!e}))})]}),(0,a.jsx)(n.z,{className:"w-full",onClick:()=>L(!1),children:"შენახვა"})]})]})}),V&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)(d.Zb,{className:"w-full max-w-lg max-h-[80vh] overflow-hidden flex flex-col",children:[(0,a.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)(d.ll,{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-secondary/50 flex items-center justify-center text-2xl",children:h(V)}),V,$.has(V)&&(0,a.jsx)(c.C,{variant:"destructive",children:"დაბლოკილი"})]}),(0,a.jsx)(n.z,{variant:"ghost",size:"icon",onClick:()=>U(null),children:(0,a.jsx)(m.lhV,{className:"w-4 h-4"})})]}),(0,a.jsxs)(d.aY,{className:"flex-1 overflow-y-auto space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"სულ კომენტარები"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:eN(V).length})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"სულ ლაიქები"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:eN(V).reduce((e,t)=>e+t.likes,0)})]}),(0,a.jsxs)(n.z,{variant:$.has(V)?"outline":"destructive",size:"sm",onClick:()=>eg(V),children:[(0,a.jsx)(m.s7E,{className:"w-4 h-4 mr-1"}),$.has(V)?"განბლოკვა":"დაბლოკვა"]})]}),(0,a.jsxs)("div",{className:"border-t pt-4",children:[(0,a.jsx)("h4",{className:"font-semibold mb-3",children:"კომენტარების ისტორია"}),(0,a.jsx)("div",{className:"space-y-3",children:eN(V).map(e=>(0,a.jsxs)("div",{className:"p-3 bg-muted/50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm",children:e.content}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[(0,a.jsx)("span",{children:e.postTitle}),(0,a.jsx)("span",{children:f(e.createdAt)}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(m.KdP,{className:"w-3 h-3"}),e.likes]})]})]},e.id))})]})]})]})})]})}},79055:function(e,t,s){"use strict";s.d(t,{C:function(){return c}});var a=s(57437);s(2265);var r=s(71538),n=s(13027),i=s(49354);let l=(0,n.j)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:s,asChild:n=!1,...c}=e,d=n?r.g7:"span";return(0,a.jsx)(d,{"data-slot":"badge",className:(0,i.cn)(l({variant:s}),t),...c})}},89733:function(e,t,s){"use strict";s.d(t,{z:function(){return c}});var a=s(57437);s(2265);var r=s(71538),n=s(13027),i=s(49354);let l=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:t,variant:s="default",size:n="default",asChild:c=!1,...d}=e,o=c?r.g7:"button";return(0,a.jsx)(o,{"data-slot":"button","data-variant":s,"data-size":n,className:(0,i.cn)(l({variant:s,size:n,className:t})),...d})}},48185:function(e,t,s){"use strict";s.d(t,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return n},aY:function(){return d},eW:function(){return o},ll:function(){return l}});var a=s(57437);s(2265);var r=s(49354);function n(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col rounded-xl border shadow-sm overflow-hidden",t),...s})}function i(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...s})}function l(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",t),...s})}function c(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",t),...s})}function d(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6 pb-6",t),...s})}function o(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-footer",className:(0,r.cn)("flex items-center px-6 [.border-t]:pt-6",t),...s})}},44541:function(e,t,s){"use strict";s.d(t,{X:function(){return l}});var a=s(57437);s(2265);var r=s(69324),n=s(72655),i=s(49354);function l(e){let{className:t,...s}=e;return(0,a.jsx)(r.fC,{"data-slot":"checkbox",className:(0,i.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:(0,a.jsx)(r.z$,{"data-slot":"checkbox-indicator",className:"grid place-content-center text-current transition-none",children:(0,a.jsx)(n.e6w,{className:"size-3.5"})})})}},77209:function(e,t,s){"use strict";s.d(t,{I:function(){return n}});var a=s(57437);s(2265);var r=s(49354);function n(e){let{className:t,type:s,...n}=e;return(0,a.jsx)("input",{type:s,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}},2128:function(e,t,s){"use strict";s.d(t,{Bw:function(){return h},DI:function(){return d},Ph:function(){return c},Ql:function(){return p},i4:function(){return u},ki:function(){return o},n5:function(){return f}});var a=s(57437),r=s(2265),n=s(48362),i=s(72655),l=s(49354);let c=n.fC,d=n.ZA,o=n.B4,u=r.forwardRef((e,t)=>{let{className:s,children:r,...c}=e;return(0,a.jsxs)(n.xz,{ref:t,className:(0,l.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...c,children:[r,(0,a.jsx)(n.JO,{asChild:!0,children:(0,a.jsx)(i.YRR,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=n.xz.displayName;let m=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.u_,{ref:t,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(i.YeS,{className:"h-4 w-4"})})});m.displayName=n.u_.displayName;let x=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.$G,{ref:t,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(i.YRR,{className:"h-4 w-4"})})});x.displayName=n.$G.displayName;let h=r.forwardRef((e,t)=>{let{className:s,children:r,position:i="popper",...c}=e;return(0,a.jsx)(n.h_,{children:(0,a.jsxs)(n.VY,{ref:t,className:(0,l.cn)("relative z-[99999] max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...c,children:[(0,a.jsx)(m,{}),(0,a.jsx)(n.l_,{className:(0,l.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(x,{})]})})});h.displayName=n.VY.displayName;let f=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.__,{ref:t,className:(0,l.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})});f.displayName=n.__.displayName;let p=r.forwardRef((e,t)=>{let{className:s,children:r,...c}=e;return(0,a.jsxs)(n.ck,{ref:t,className:(0,l.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...c,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(n.wU,{children:(0,a.jsx)(i.e6w,{className:"h-4 w-4"})})}),(0,a.jsx)(n.eT,{children:r})]})});p.displayName=n.ck.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.Z0,{ref:t,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=n.Z0.displayName},4919:function(e,t,s){"use strict";s.d(t,{g:function(){return i}});var a=s(57437),r=s(2265),n=s(49354);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...r})});i.displayName="Textarea"},49354:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var a=s(44839),r=s(96164);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}}},function(e){e.O(0,[6950,8534,7441,8362,659,2971,7023,1744],function(){return e(e.s=65978)}),_N_E=e.O()}]);