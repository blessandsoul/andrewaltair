"use strict";(()=>{var e={};e.id=214,e.ids=[214],e.modules={11185:e=>{e.exports=require("mongoose")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},13170:(e,t,n)=>{n.r(t),n.d(t,{originalPathname:()=>h,patchFetch:()=>w,requestAsyncStorage:()=>f,routeModule:()=>l,serverHooks:()=>g,staticGenerationAsyncStorage:()=>m});var o={};n.r(o),n.d(o,{DELETE:()=>p,PUT:()=>d});var r=n(49303),i=n(88716),a=n(60670),s=n(87070),c=n(75748),u=n(17668);async function d(e,{params:t}){try{await (0,c.Z)();let{id:n}=await t,o=await e.json(),r=await u.Z.findByIdAndUpdate(n,o,{new:!0}).lean();if(!r)return s.NextResponse.json({error:"Notification not found"},{status:404});return s.NextResponse.json({success:!0,notification:{...r,id:r._id.toString()}})}catch(e){return console.error("Update notification error:",e),s.NextResponse.json({error:"Failed to update notification"},{status:500})}}async function p(e,{params:t}){try{await (0,c.Z)();let{id:e}=await t;return await u.Z.findByIdAndDelete(e),s.NextResponse.json({success:!0})}catch(e){return console.error("Delete notification error:",e),s.NextResponse.json({error:"Failed to delete notification"},{status:500})}}let l=new r.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/notifications/[id]/route",pathname:"/api/notifications/[id]",filename:"route",bundlePath:"app/api/notifications/[id]/route"},resolvedPagePath:"C:\\Users\\User\\Desktop\\GITHUB\\andrewaltair\\fresh\\src\\app\\api\\notifications\\[id]\\route.ts",nextConfigOutput:"standalone",userland:o}),{requestAsyncStorage:f,staticGenerationAsyncStorage:m,serverHooks:g}=l,h="/api/notifications/[id]/route";function w(){return(0,a.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:m})}},75748:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(11185),r=n.n(o);let i=process.env.MONGODB_URI;if(!i)throw Error("Please define the MONGODB_URI environment variable inside .env.local");let a=global.mongoose||{conn:null,promise:null};global.mongoose||(global.mongoose=a);let s=async function(){if(a.conn)return a.conn;a.promise||(a.promise=r().connect(i,{bufferCommands:!1}).then(e=>e));try{a.conn=await a.promise}catch(e){throw a.promise=null,e}return a.conn}},17668:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(11185),r=n.n(o);let i=new o.Schema({type:{type:String,enum:["info","success","warning","error"],default:"info"},message:{type:String,required:[!0,"Message is required"]},read:{type:Boolean,default:!1}},{timestamps:!0}),a=r().models.Notification||r().model("Notification",i)}};var t=require("../../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),o=t.X(0,[8948,5972],()=>n(13170));module.exports=o})();