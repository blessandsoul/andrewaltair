"use strict";(()=>{var e={};e.id=744,e.ids=[744],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},73414:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>m,patchFetch:()=>x,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>h,staticGenerationAsyncStorage:()=>d});var s={};r.r(s),r.d(s,{POST:()=>u});var a=r(49303),o=r(88716),n=r(60670),i=r(91088),p=r(87070);async function u(e){try{let t=new i.ZP({apiKey:process.env.GROQ_API_KEY,baseURL:"https://api.groq.com/openai/v1"}),{message:r,history:s,botId:a,masterPrompt:o}=await e.json();if(!r)return p.NextResponse.json({error:"Message is required"},{status:400});let n=[{role:"system",content:o||"შენ ხარ AI ასისტენტი. პასუხობ ქართულად და ეხმარები მომხმარებელს."}];if(s&&Array.isArray(s))for(let e of s.slice(-10))("user"===e.role||"assistant"===e.role)&&n.push({role:e.role,content:e.content});n.push({role:"user",content:r});let u=await t.chat.completions.create({model:"llama-3.3-70b-versatile",messages:n,temperature:.7,max_tokens:500}),c=u.choices[0]?.message?.content||"ბოდიში, დროებით ვერ ვპასუხობ. სცადეთ თავიდან! \uD83D\uDE4F";return p.NextResponse.json({response:c})}catch(e){return console.error("Chat API error:",e),p.NextResponse.json({error:"Failed to generate response"},{status:500})}}let c=new a.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/chat/route",pathname:"/api/chat",filename:"route",bundlePath:"app/api/chat/route"},resolvedPagePath:"C:\\Users\\User\\Desktop\\GITHUB\\andrewaltair\\fresh\\src\\app\\api\\chat\\route.ts",nextConfigOutput:"standalone",userland:s}),{requestAsyncStorage:l,staticGenerationAsyncStorage:d,serverHooks:h}=c,m="/api/chat/route";function x(){return(0,n.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:d})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8948,5972,1088],()=>r(73414));module.exports=s})();