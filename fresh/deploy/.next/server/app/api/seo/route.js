"use strict";(()=>{var e={};e.id=6917,e.ids=[6917],e.modules={11185:e=>{e.exports=require("mongoose")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},29981:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>S,patchFetch:()=>w,requestAsyncStorage:()=>h,routeModule:()=>y,serverHooks:()=>f,staticGenerationAsyncStorage:()=>v});var n={};r.r(n),r.d(n,{GET:()=>m,POST:()=>g});var o=r(49303),s=r(88716),a=r(60670),i=r(87070),u=r(75748),p=r(11185),l=r.n(p);let d=new p.Schema({key:{type:String,required:[!0,"Key is required"],unique:!0},value:{type:p.Schema.Types.Mixed,required:!0},type:{type:String,enum:["robots","sitemap","meta","keywords","settings"],default:"settings"}},{timestamps:!0}),c=l().models.Seo||l().model("Seo",d);async function m(e){try{await (0,u.Z)();let{searchParams:t}=new URL(e.url),r=t.get("type"),n=t.get("key"),o={};r&&(o.type=r),n&&(o.key=n);let s=(await c.find(o).lean()).map(e=>({...e,id:e._id.toString(),_id:void 0}));return i.NextResponse.json({settings:s})}catch(e){return console.error("Get SEO settings error:",e),i.NextResponse.json({error:"Failed to fetch SEO settings"},{status:500})}}async function g(e){try{await (0,u.Z)();let t=await e.json(),r=await c.findOneAndUpdate({key:t.key},{...t},{new:!0,upsert:!0}).lean();return i.NextResponse.json({success:!0,setting:{...r,id:r?._id?.toString()}})}catch(e){return console.error("Save SEO setting error:",e),i.NextResponse.json({error:"Failed to save SEO setting"},{status:500})}}let y=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/seo/route",pathname:"/api/seo",filename:"route",bundlePath:"app/api/seo/route"},resolvedPagePath:"C:\\Users\\User\\Desktop\\GITHUB\\andrewaltair\\fresh\\src\\app\\api\\seo\\route.ts",nextConfigOutput:"standalone",userland:n}),{requestAsyncStorage:h,staticGenerationAsyncStorage:v,serverHooks:f}=y,S="/api/seo/route";function w(){return(0,a.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:v})}},75748:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(11185),o=r.n(n);let s=process.env.MONGODB_URI;if(!s)throw Error("Please define the MONGODB_URI environment variable inside .env.local");let a=global.mongoose||{conn:null,promise:null};global.mongoose||(global.mongoose=a);let i=async function(){if(a.conn)return a.conn;a.promise||(a.promise=o().connect(s,{bufferCommands:!1}).then(e=>e));try{a.conn=await a.promise}catch(e){throw a.promise=null,e}return a.conn}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[8948,5972],()=>r(29981));module.exports=n})();