"use strict";(()=>{var e={};e.id=9609,e.ids=[9609],e.modules={11185:e=>{e.exports=require("mongoose")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},33196:(e,r,o)=>{o.r(r),o.d(r,{originalPathname:()=>f,patchFetch:()=>h,requestAsyncStorage:()=>m,routeModule:()=>p,serverHooks:()=>j,staticGenerationAsyncStorage:()=>b});var t={};o.r(t),o.d(t,{DELETE:()=>l,PUT:()=>c});var n=o(49303),s=o(88716),a=o(60670),i=o(87070),u=o(75748),d=o(93952);async function c(e,{params:r}){try{await (0,u.Z)();let{id:o}=await r,t=await e.json(),n=await d.Z.findByIdAndUpdate(o,t,{new:!0}).lean();if(!n)return i.NextResponse.json({error:"Cron job not found"},{status:404});return i.NextResponse.json({success:!0,job:{...n,id:n._id.toString()}})}catch(e){return console.error("Update cron job error:",e),i.NextResponse.json({error:"Failed to update cron job"},{status:500})}}async function l(e,{params:r}){try{await (0,u.Z)();let{id:e}=await r;return await d.Z.findByIdAndDelete(e),i.NextResponse.json({success:!0})}catch(e){return console.error("Delete cron job error:",e),i.NextResponse.json({error:"Failed to delete cron job"},{status:500})}}let p=new n.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/cron-jobs/[id]/route",pathname:"/api/cron-jobs/[id]",filename:"route",bundlePath:"app/api/cron-jobs/[id]/route"},resolvedPagePath:"C:\\Users\\User\\Desktop\\GITHUB\\andrewaltair\\fresh\\src\\app\\api\\cron-jobs\\[id]\\route.ts",nextConfigOutput:"standalone",userland:t}),{requestAsyncStorage:m,staticGenerationAsyncStorage:b,serverHooks:j}=p,f="/api/cron-jobs/[id]/route";function h(){return(0,a.patchFetch)({serverHooks:j,staticGenerationAsyncStorage:b})}},75748:(e,r,o)=>{o.d(r,{Z:()=>i});var t=o(11185),n=o.n(t);let s=process.env.MONGODB_URI;if(!s)throw Error("Please define the MONGODB_URI environment variable inside .env.local");let a=global.mongoose||{conn:null,promise:null};global.mongoose||(global.mongoose=a);let i=async function(){if(a.conn)return a.conn;a.promise||(a.promise=n().connect(s,{bufferCommands:!1}).then(e=>e));try{a.conn=await a.promise}catch(e){throw a.promise=null,e}return a.conn}},93952:(e,r,o)=>{o.d(r,{Z:()=>a});var t=o(11185),n=o.n(t);let s=new t.Schema({name:{type:String,required:[!0,"Name is required"]},schedule:{type:String,required:[!0,"Schedule is required"]},lastRun:{type:Date},status:{type:String,enum:["active","paused","failed"],default:"active"}},{timestamps:!0}),a=n().models.CronJob||n().model("CronJob",s)}};var r=require("../../../../webpack-runtime.js");r.C(e);var o=e=>r(r.s=e),t=r.X(0,[8948,5972],()=>o(33196));module.exports=t})();