"use strict";(()=>{var e={};e.id=9848,e.ids=[9848],e.modules={11185:e=>{e.exports=require("mongoose")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},69514:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>h,patchFetch:()=>v,requestAsyncStorage:()=>b,routeModule:()=>g,serverHooks:()=>f,staticGenerationAsyncStorage:()=>y});var o={};r.r(o),r.d(o,{POST:()=>c});var n=r(49303),s=r(88716),i=r(60670),a=r(87070),u=r(14184),p=r(11185),d=r.n(p);let m=new(d()).Schema({name:{type:String,required:!0},email:{type:String,required:!0},promptName:{type:String,required:!0},category:{type:String,required:!0},description:{type:String,required:!0},masterPrompt:{type:String,required:!0},status:{type:String,enum:["pending","approved","rejected"],default:"pending"},submittedAt:{type:Date,default:Date.now},reviewedAt:{type:Date},reviewedBy:{type:String},notes:{type:String}}),l=d().models.PromptSubmission||d().model("PromptSubmission",m);async function c(e){try{await (0,u.Z)();let{name:t,email:r,promptName:o,category:n,description:s,masterPrompt:i}=await e.json();if(!t||!r||!o||!s||!i)return a.NextResponse.json({error:"All fields are required"},{status:400});let p=await l.create({name:t,email:r,promptName:o,category:n,description:s,masterPrompt:i,status:"pending",submittedAt:new Date});return a.NextResponse.json({success:!0,message:"Prompt submitted successfully",id:p._id})}catch(e){return console.error("Error submitting prompt:",e),a.NextResponse.json({error:"Failed to submit prompt"},{status:500})}}let g=new n.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/bots/submit/route",pathname:"/api/bots/submit",filename:"route",bundlePath:"app/api/bots/submit/route"},resolvedPagePath:"C:\\Users\\User\\Desktop\\GITHUB\\andrewaltair\\fresh\\src\\app\\api\\bots\\submit\\route.ts",nextConfigOutput:"standalone",userland:o}),{requestAsyncStorage:b,staticGenerationAsyncStorage:y,serverHooks:f}=g,h="/api/bots/submit/route";function v(){return(0,i.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:y})}},14184:(e,t,r)=>{r.d(t,{Z:()=>a});var o=r(11185),n=r.n(o);let s=process.env.MONGODB_URI||"mongodb://localhost:27017/andrewaltair";if(!s)throw Error("Please define the MONGODB_URI environment variable");let i=global.mongoose||{conn:null,promise:null};global.mongoose||(global.mongoose=i);let a=async function(){if(i.conn)return i.conn;i.promise||(i.promise=n().connect(s,{bufferCommands:!1}).then(e=>e));try{i.conn=await i.promise}catch(e){throw i.promise=null,e}return i.conn}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[8948,5972],()=>r(69514));module.exports=o})();