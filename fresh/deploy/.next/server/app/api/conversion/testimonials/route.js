"use strict";(()=>{var e={};e.id=4395,e.ids=[4395],e.modules={11185:e=>{e.exports=require("mongoose")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},52347:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>g,patchFetch:()=>f,requestAsyncStorage:()=>d,routeModule:()=>m,serverHooks:()=>v,staticGenerationAsyncStorage:()=>c});var n={};t.r(n),t.d(n,{GET:()=>u});var o=t(49303),i=t(88716),s=t(60670),a=t(87070),l=t(75748),p=t(93856);async function u(){try{await (0,l.Z)();let e=await p.Z.find({isActive:!0}).sort({order:1,createdAt:-1}).limit(10);return a.NextResponse.json({testimonials:e})}catch(e){return console.error("Testimonials Error:",e),a.NextResponse.json({error:"Failed to get testimonials"},{status:500})}}let m=new o.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/conversion/testimonials/route",pathname:"/api/conversion/testimonials",filename:"route",bundlePath:"app/api/conversion/testimonials/route"},resolvedPagePath:"C:\\Users\\User\\Desktop\\GITHUB\\andrewaltair\\fresh\\src\\app\\api\\conversion\\testimonials\\route.ts",nextConfigOutput:"standalone",userland:n}),{requestAsyncStorage:d,staticGenerationAsyncStorage:c,serverHooks:v}=m,g="/api/conversion/testimonials/route";function f(){return(0,s.patchFetch)({serverHooks:v,staticGenerationAsyncStorage:c})}},75748:(e,r,t)=>{t.d(r,{Z:()=>a});var n=t(11185),o=t.n(n);let i=process.env.MONGODB_URI;if(!i)throw Error("Please define the MONGODB_URI environment variable inside .env.local");let s=global.mongoose||{conn:null,promise:null};global.mongoose||(global.mongoose=s);let a=async function(){if(s.conn)return s.conn;s.promise||(s.promise=o().connect(i,{bufferCommands:!1}).then(e=>e));try{s.conn=await s.promise}catch(e){throw s.promise=null,e}return s.conn}},93856:(e,r,t)=>{t.d(r,{Z:()=>s});var n=t(11185),o=t.n(n);let i=new n.Schema({name:{type:String,required:[!0,"Name is required"],trim:!0},company:{type:String,required:[!0,"Company is required"]},avatar:String,metric:{type:String,required:!0},improvement:{type:String,required:!0},testimonial:{type:String,required:!0},rating:{type:Number,min:1,max:5,default:5},isActive:{type:Boolean,default:!0},order:{type:Number,default:0}},{timestamps:!0}),s=o().models.Testimonial||o().model("Testimonial",i)}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[8948,5972],()=>t(52347));module.exports=n})();