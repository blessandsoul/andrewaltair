"use strict";(()=>{var e={};e.id=1158,e.ids=[1158],e.modules={11185:e=>{e.exports=require("mongoose")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},36324:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>h,patchFetch:()=>v,requestAsyncStorage:()=>m,routeModule:()=>c,serverHooks:()=>g,staticGenerationAsyncStorage:()=>f});var o={};t.r(o),t.d(o,{DELETE:()=>p,PUT:()=>u});var n=t(49303),s=t(88716),a=t(60670),i=t(87070),d=t(75748),l=t(4683);async function u(e,{params:r}){try{await (0,d.Z)();let{id:t}=await r,o=await e.json(),n=await l.Z.findByIdAndUpdate(t,o,{new:!0}).lean();if(!n)return i.NextResponse.json({error:"Folder not found"},{status:404});return i.NextResponse.json({success:!0,folder:{...n,id:n._id.toString()}})}catch(e){return console.error("Update folder error:",e),i.NextResponse.json({error:"Failed to update folder"},{status:500})}}async function p(e,{params:r}){try{await (0,d.Z)();let{id:e}=await r;return await l.Z.findByIdAndDelete(e),i.NextResponse.json({success:!0})}catch(e){return console.error("Delete folder error:",e),i.NextResponse.json({error:"Failed to delete folder"},{status:500})}}let c=new n.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/folders/[id]/route",pathname:"/api/folders/[id]",filename:"route",bundlePath:"app/api/folders/[id]/route"},resolvedPagePath:"C:\\Users\\User\\Desktop\\GITHUB\\andrewaltair\\fresh\\src\\app\\api\\folders\\[id]\\route.ts",nextConfigOutput:"standalone",userland:o}),{requestAsyncStorage:m,staticGenerationAsyncStorage:f,serverHooks:g}=c,h="/api/folders/[id]/route";function v(){return(0,a.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:f})}},75748:(e,r,t)=>{t.d(r,{Z:()=>i});var o=t(11185),n=t.n(o);let s=process.env.MONGODB_URI;if(!s)throw Error("Please define the MONGODB_URI environment variable inside .env.local");let a=global.mongoose||{conn:null,promise:null};global.mongoose||(global.mongoose=a);let i=async function(){if(a.conn)return a.conn;a.promise||(a.promise=n().connect(s,{bufferCommands:!1}).then(e=>e));try{a.conn=await a.promise}catch(e){throw a.promise=null,e}return a.conn}},4683:(e,r,t)=>{t.d(r,{Z:()=>a});var o=t(11185),n=t.n(o);let s=new o.Schema({name:{type:String,required:[!0,"Name is required"]},color:{type:String,default:"blue"},count:{type:Number,default:0}},{timestamps:!0}),a=n().models.Folder||n().model("Folder",s)}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[8948,5972],()=>t(36324));module.exports=o})();