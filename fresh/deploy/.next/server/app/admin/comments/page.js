(()=>{var e={};e.id=7594,e.ids=[7594],e.modules={11185:e=>{"use strict";e.exports=require("mongoose")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},9358:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>o,routeModule:()=>x,tree:()=>d}),t(41179),t(9457),t(55774),t(7629),t(11930),t(12523);var a=t(23191),r=t(88716),l=t(37922),n=t.n(l),i=t(95231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);t.d(s,c);let d=["",{children:["admin",{children:["comments",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,41179)),"C:\\Users\\User\\Desktop\\GITHUB\\andrewaltair\\fresh\\src\\app\\admin\\comments\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9457)),"C:\\Users\\User\\Desktop\\GITHUB\\andrewaltair\\fresh\\src\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}]},{layout:[()=>Promise.resolve().then(t.bind(t,55774)),"C:\\Users\\User\\Desktop\\GITHUB\\andrewaltair\\fresh\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,7629)),"C:\\Users\\User\\Desktop\\GITHUB\\andrewaltair\\fresh\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,11930)),"C:\\Users\\User\\Desktop\\GITHUB\\andrewaltair\\fresh\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,12523)),"C:\\Users\\User\\Desktop\\GITHUB\\andrewaltair\\fresh\\src\\app\\not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}],o=["C:\\Users\\User\\Desktop\\GITHUB\\andrewaltair\\fresh\\src\\app\\admin\\comments\\page.tsx"],u="/admin/comments/page",m={require:t,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/comments/page",pathname:"/admin/comments",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},64731:(e,s,t)=>{Promise.resolve().then(t.bind(t,79137))},79137:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>f});var a=t(10326),r=t(17577),l=t(91664),n=t(41190),i=t(82015),c=t(38443),d=t(29752),o=t(69654),u=t(29280),m=t(72062);let x=["\uD83E\uDD21","\uD83D\uDC7D","\uD83E\uDD16","\uD83D\uDC79","\uD83D\uDC7A","\uD83D\uDC80","\uD83D\uDC7B","\uD83C\uDF83","\uD83E\uDD20","\uD83E\uDD78","\uD83E\uDDD0","\uD83E\uDD13","\uD83D\uDE0E","\uD83E\uDD73","\uD83E\uDD2A","\uD83D\uDE1C","\uD83E\uDD11","\uD83E\uDD2F","\uD83E\uDD74","\uD83D\uDE35‍\uD83D\uDCAB","\uD83D\uDC38","\uD83E\uDD8A","\uD83D\uDC35","\uD83D\uDC37","\uD83D\uDC3B","\uD83D\uDC3C","\uD83D\uDC28","\uD83E\uDD81","\uD83D\uDC2F","\uD83E\uDD84","\uD83D\uDC32","\uD83E\uDD96","\uD83E\uDD95","\uD83D\uDC19","\uD83E\uDD91","\uD83E\uDD9E","\uD83E\uDD80","\uD83D\uDC21","\uD83D\uDC20","\uD83E\uDD88","\uD83C\uDF1A","\uD83C\uDF1D","\uD83C\uDF1E","\uD83D\uDD2E","\uD83C\uDFA9","\uD83D\uDC51","\uD83C\uDFAA","\uD83C\uDFAD","\uD83C\uDCCF","\uD83E\uDDD9‍♂️","\uD83E\uDDDB","\uD83E\uDDDF","\uD83E\uDDDE","\uD83E\uDDDC‍♂️","\uD83E\uDDDD","\uD83E\uDDB8","\uD83E\uDDB9","\uD83E\uDD77","\uD83C\uDF85","\uD83E\uDD34","\uD83D\uDC68‍\uD83C\uDFA4","\uD83D\uDC69‍\uD83D\uDE80","\uD83D\uDC68‍\uD83D\uDD2C","\uD83D\uDC69‍\uD83C\uDFA8","\uD83D\uDD75️","\uD83D\uDC77","\uD83D\uDC82","\uD83E\uDD35","\uD83D\uDC78","\uD83E\uDDD1‍\uD83C\uDF84"];function h(e){let s=0;for(let t=0;t<e.length;t++)s=(s<<5)-s+e.charCodeAt(t),s&=s;let t=Math.abs(s)%x.length;return x[t]}function p(e){let s=new Date(e),t=Math.floor((new Date().getTime()-s.getTime())/1e3);return t<60?"ახლახანს":t<3600?`${Math.floor(t/60)} წთ წინ`:t<86400?`${Math.floor(t/3600)} სთ წინ`:t<604800?`${Math.floor(t/86400)} დღე წინ`:s.toLocaleDateString("ka")}function f(){let[e,s]=r.useState([]),[t,x]=r.useState(!0),[f,j]=r.useState(""),[D,g]=r.useState("all");r.useEffect(()=>{(async function(){try{let e=await fetch("/api/comments?limit=100");if(e.ok){let t=((await e.json()).comments||[]).map(e=>({id:e.id,postId:e.postId,postTitle:e.postTitle||"Unknown Post",author:e.author?.name||"Anonymous",email:e.author?.email,content:e.content||"",createdAt:e.createdAt,likes:e.likes||0,isApproved:"approved"===e.status,parentId:e.parentId,isSpam:e.isSpam||"spam"===e.status}));s(t)}}catch(e){console.error("Error fetching comments:",e)}finally{x(!1)}})()},[]);let[v,w]=r.useState(null),[N,y]=r.useState(""),[b,C]=r.useState("all"),[k,E]=r.useState(new Set),[z,S]=r.useState(null),[A,T]=r.useState(""),[P,U]=r.useState(["სპამი","რეკლამა","casino","იყიდე"]),[R,I]=r.useState(!1),[_,$]=r.useState(""),[B,O]=r.useState({notifyOnNew:!0,notifyAuthorOnReply:!0}),[F,q]=r.useState(!1),[G,Y]=r.useState(null),[L,M]=r.useState(new Set),[Z,V]=r.useState(1),[H,X]=r.useState("date"),[J,K]=r.useState("desc"),[Q,W]=r.useState(new Set),[ee,es]=r.useState(null),et=e=>{let s=e.toLowerCase();return P.some(e=>s.includes(e.toLowerCase()))},ea=e.filter(e=>!e.parentId).filter(e=>{let s=e.author.toLowerCase().includes(f.toLowerCase())||e.content.toLowerCase().includes(f.toLowerCase())||e.postTitle.toLowerCase().includes(f.toLowerCase()),t="all"===D||"approved"===D&&e.isApproved&&!e.isSpam||"pending"===D&&!e.isApproved&&!e.isSpam||"spam"===D&&(e.isSpam||et(e.content)),a=function(e,s){let t=new Date(e),a=(new Date().getTime()-t.getTime())/864e5;switch(s){case"today":return a<1;case"week":return a<7;case"month":return a<30;default:return!0}}(e.createdAt,b),r=!L.has(e.author);return s&&t&&a&&r}),er=[...ea].sort((e,s)=>{let t=0;switch(H){case"date":t=new Date(e.createdAt).getTime()-new Date(s.createdAt).getTime();break;case"likes":t=e.likes-s.likes;break;case"author":t=e.author.localeCompare(s.author)}return"asc"===J?t:-t}),el=Math.ceil(er.length/5),en=er.slice((Z-1)*5,5*Z),ei=s=>e.filter(e=>e.parentId===s),ec=async t=>{try{(await fetch(`/api/comments/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"approved",isSpam:!1})})).ok&&s(e.map(e=>e.id===t?{...e,isApproved:!0,isSpam:!1}:e))}catch(e){console.error("Approve error:",e)}},ed=async t=>{try{(await fetch(`/api/comments/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"rejected"})})).ok&&s(e.map(e=>e.id===t?{...e,isApproved:!1}:e))}catch(e){console.error("Reject error:",e)}},eo=async t=>{try{(await fetch(`/api/comments/${t}`,{method:"DELETE"})).ok&&(s(e.filter(e=>e.id!==t&&e.parentId!==t)),es(null),E(e=>{let s=new Set(e);return s.delete(t),s}))}catch(e){console.error("Delete error:",e)}},eu=async t=>{if(!N.trim())return;let a=e.find(e=>e.id===t);try{let r=await fetch("/api/comments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({postId:a?.postId,author:{name:"Admin"},content:N,parentId:t,status:"approved"})});if(r.ok){let l={id:(await r.json()).comment.id,postId:a?.postId||"",postTitle:a?.postTitle||"",author:"Admin",content:N,createdAt:new Date().toISOString(),likes:0,isApproved:!0,parentId:t};s([...e,l])}}catch(e){console.error("TbArrowBackUp error:",e)}w(null),y("")},em=async()=>{try{await Promise.all(Array.from(k).map(e=>fetch(`/api/comments/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"approved",isSpam:!1})}))),s(e.map(e=>k.has(e.id)?{...e,isApproved:!0,isSpam:!1}:e)),E(new Set)}catch(e){console.error("Bulk approve error:",e)}},ex=async()=>{try{await Promise.all(Array.from(k).map(e=>fetch(`/api/comments/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"rejected"})}))),s(e.map(e=>k.has(e.id)?{...e,isApproved:!1}:e)),E(new Set)}catch(e){console.error("Bulk reject error:",e)}},eh=async()=>{try{await Promise.all(Array.from(k).map(e=>fetch(`/api/comments/${e}`,{method:"DELETE"}))),s(e.filter(e=>!k.has(e.id))),E(new Set)}catch(e){console.error("Bulk delete error:",e)}},ep=async t=>{if(A.trim())try{(await fetch(`/api/comments/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:A})})).ok&&(s(e.map(e=>e.id===t?{...e,content:A,isSpam:et(A)}:e)),S(null),T(""))}catch(e){console.error("Edit error:",e)}},ef=()=>{_.trim()&&!P.includes(_.trim())&&(U([...P,_.trim()]),$(""))},ej=e=>{U(P.filter(s=>s!==e))},eD=e=>{M(s=>{let t=new Set(s);return t.has(e)?t.delete(e):t.add(e),t})},eg=e=>{W(s=>{let t=new Set(s);return t.has(e)?t.delete(e):t.add(e),t})},ev=e.filter(e=>!e.isApproved&&!e.isSpam).length,ew=e.filter(e=>e.isSpam||et(e.content)).length,eN=s=>e.filter(e=>e.author===s);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[a.jsx(m.Rwq,{className:"w-8 h-8 text-primary"}),"კომენტარების მართვა"]}),(0,a.jsxs)("p",{className:"text-muted-foreground mt-1 flex items-center gap-2 flex-wrap",children:[ea.length," კომენტარი",ev>0&&(0,a.jsxs)(c.C,{variant:"destructive",children:[ev," მოლოდინში"]}),ew>0&&(0,a.jsxs)(c.C,{variant:"secondary",className:"bg-red-500/20 text-red-400",children:[ew," სპამი"]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,a.jsxs)(l.z,{variant:"outline",size:"sm",onClick:()=>I(!0),children:[a.jsx(m.$T2,{className:"w-4 h-4 mr-1"}),"სპამ ფილტრი"]}),(0,a.jsxs)(l.z,{variant:"outline",size:"sm",onClick:()=>q(!0),children:[a.jsx(m.QOK,{className:"w-4 h-4 mr-1"}),"შეტყობინებები"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsx("div",{className:"flex rounded-lg border overflow-hidden",children:[{value:"all",label:"ყველა"},{value:"today",label:"დღეს"},{value:"week",label:"კვირა"},{value:"month",label:"თვე"}].map(e=>(0,a.jsxs)("button",{onClick:()=>{C(e.value),V(1)},className:`px-3 py-2 text-sm font-medium transition-colors ${b===e.value?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[a.jsx(m.RgR,{className:"w-3 h-3 inline mr-1"}),e.label]},e.value))}),a.jsx("div",{className:"flex rounded-lg border overflow-hidden",children:[{value:"all",label:"ყველა"},{value:"approved",label:"დამტკიცებული"},{value:"pending",label:"მოლოდინში"},{value:"spam",label:"სპამი"}].map(e=>a.jsx("button",{onClick:()=>{g(e.value),V(1)},className:`px-3 py-2 text-sm font-medium transition-colors ${D===e.value?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:e.label},e.value))}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(u.Ph,{value:H,onValueChange:e=>X(e),children:[(0,a.jsxs)(u.i4,{className:"w-[140px]",children:[a.jsx(m.hV$,{className:"w-4 h-4 mr-2"}),a.jsx(u.ki,{placeholder:"დალაგება"})]}),(0,a.jsxs)(u.Bw,{children:[a.jsx(u.Ql,{value:"date",children:"თარიღი"}),a.jsx(u.Ql,{value:"likes",children:"ლაიქები"}),a.jsx(u.Ql,{value:"author",children:"ავტორი"})]})]}),a.jsx(l.z,{variant:"outline",size:"icon",onClick:()=>K("asc"===J?"desc":"asc"),children:"asc"===J?a.jsx(m.YeS,{className:"w-4 h-4"}):a.jsx(m.YRR,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{className:"relative flex-1 min-w-[200px]",children:[a.jsx(m.adB,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(n.I,{placeholder:"ძიება...",value:f,onChange:e=>{j(e.target.value),V(1)},className:"pl-10"})]})]}),k.size>0&&a.jsx(d.Zb,{className:"bg-primary/10 border-primary/30",children:(0,a.jsxs)(d.aY,{className:"py-3 flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"font-medium",children:[k.size," კომენტარი მონიშნულია"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(l.z,{size:"sm",variant:"outline",className:"text-green-500",onClick:em,children:[a.jsx(m.XDv,{className:"w-4 h-4 mr-1"}),"დამტკიცება"]}),(0,a.jsxs)(l.z,{size:"sm",variant:"outline",className:"text-yellow-500",onClick:ex,children:[a.jsx(m.Z2N,{className:"w-4 h-4 mr-1"}),"უარყოფა"]}),(0,a.jsxs)(l.z,{size:"sm",variant:"destructive",onClick:eh,children:[a.jsx(m.EF5,{className:"w-4 h-4 mr-1"}),"წაშლა"]})]})]})}),en.length>0&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(o.X,{checked:k.size===en.length&&en.length>0,onCheckedChange:()=>{k.size===en.length?E(new Set):E(new Set(en.map(e=>e.id)))}}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"ყველას მონიშვნა"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[en.map(e=>{let s=ei(e.id),t=s.length>0,r=Q.has(e.id),n=e.isSpam||et(e.content);return a.jsx(d.Zb,{className:`transition-all ${e.isApproved||n?"":"border-yellow-500/50 bg-yellow-500/5"} ${n?"border-red-500/50 bg-red-500/5":""} ${k.has(e.id)?"ring-2 ring-primary":""}`,children:a.jsx(d.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex items-start pt-1",children:a.jsx(o.X,{checked:k.has(e.id),onCheckedChange:s=>{E(t=>{let a=new Set(t);return s?a.add(e.id):a.delete(e.id),a})}})}),a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 text-2xl ${"Admin"===e.author?"bg-gradient-to-br from-primary to-accent":"bg-secondary/50 backdrop-blur-sm"}`,children:"Admin"===e.author?"⭐":h(e.author)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,a.jsxs)("button",{onClick:()=>Y(e.author),className:"font-semibold hover:text-primary transition-colors flex items-center gap-1",children:[a.jsx(m.S8z,{className:"w-3 h-3"}),e.author]}),"Admin"===e.author&&a.jsx(c.C,{variant:"secondary",className:"text-xs",children:"ადმინი"}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[a.jsx(m.rfE,{className:"w-3 h-3"}),p(e.createdAt)]}),!e.isApproved&&!n&&a.jsx(c.C,{variant:"outline",className:"text-yellow-500 border-yellow-500",children:"მოლოდინში"}),n&&(0,a.jsxs)(c.C,{variant:"destructive",children:[a.jsx(m.$T2,{className:"w-3 h-3 mr-1"}),"სპამი"]})]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground mt-1",children:["პოსტზე: ",a.jsx("span",{className:"text-foreground",children:e.postTitle})]}),z===e.id?(0,a.jsxs)("div",{className:"mt-2 space-y-2",children:[a.jsx(i.g,{value:A,onChange:e=>T(e.target.value),rows:3}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(l.z,{size:"sm",onClick:()=>ep(e.id),children:"შენახვა"}),a.jsx(l.z,{size:"sm",variant:"outline",onClick:()=>S(null),children:"გაუქმება"})]})]}):a.jsx("p",{className:"mt-2",children:e.content}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[a.jsx(m.KdP,{className:"w-4 h-4"}),e.likes]}),t&&(0,a.jsxs)("button",{onClick:()=>eg(e.id),className:"flex items-center gap-1 hover:text-foreground transition-colors",children:[a.jsx(m.Rwq,{className:"w-4 h-4"}),s.length," პასუხი",r?a.jsx(m.YeS,{className:"w-3 h-3"}):a.jsx(m.YRR,{className:"w-3 h-3"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,a.jsxs)(l.z,{variant:"ghost",size:"sm",onClick:()=>w(e.id),children:[a.jsx(m.owl,{className:"w-4 h-4 mr-1"}),"პასუხი"]}),(0,a.jsxs)(l.z,{variant:"ghost",size:"sm",onClick:()=>{S(e.id),T(e.content)},children:[a.jsx(m.EMN,{className:"w-4 h-4 mr-1"}),"რედაქტირება"]}),e.isApproved?(0,a.jsxs)(l.z,{variant:"ghost",size:"sm",className:"text-yellow-500 hover:text-yellow-600",onClick:()=>ed(e.id),children:[a.jsx(m.Z2N,{className:"w-4 h-4 mr-1"}),"უარყოფა"]}):(0,a.jsxs)(l.z,{variant:"outline",size:"sm",className:"text-green-500 hover:text-green-600",onClick:()=>ec(e.id),children:[a.jsx(m.XDv,{className:"w-4 h-4 mr-1"}),"დამტკიცება"]}),a.jsx(l.z,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>es(e.id),children:a.jsx(m.EF5,{className:"w-4 h-4"})})]})]}),v===e.id&&(0,a.jsxs)("div",{className:"mt-4 p-4 bg-muted/50 rounded-lg space-y-3",children:[a.jsx(i.g,{value:N,onChange:e=>y(e.target.value),placeholder:"დაწერე პასუხი...",rows:3}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(l.z,{size:"sm",onClick:()=>eu(e.id),children:[a.jsx(m.Oe$,{className:"w-4 h-4 mr-1"}),"გაგზავნა"]}),a.jsx(l.z,{size:"sm",variant:"outline",onClick:()=>w(null),children:"გაუქმება"})]})]}),r&&t&&a.jsx("div",{className:"mt-4 ml-6 border-l-2 border-muted pl-4 space-y-4",children:s.map(e=>(0,a.jsxs)("div",{className:"flex gap-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 text-lg ${"Admin"===e.author?"bg-gradient-to-br from-primary to-accent":"bg-secondary/50"}`,children:"Admin"===e.author?"⭐":h(e.author)}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-semibold text-sm",children:e.author}),"Admin"===e.author&&a.jsx(c.C,{variant:"secondary",className:"text-xs",children:"ადმინი"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:p(e.createdAt)})]}),a.jsx("p",{className:"text-sm mt-1",children:e.content}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[a.jsx(m.KdP,{className:"w-3 h-3"}),e.likes]}),(0,a.jsxs)(l.z,{variant:"ghost",size:"sm",className:"h-6 text-xs text-destructive",onClick:()=>eo(e.id),children:[a.jsx(m.EF5,{className:"w-3 h-3 mr-1"}),"წაშლა"]})]})]})]},e.id))})]})]})})},e.id)}),0===en.length&&a.jsx(d.Zb,{children:(0,a.jsxs)(d.aY,{className:"py-12 text-center text-muted-foreground",children:[a.jsx(m.Rwq,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"კომენტარები ვერ მოიძებნა"})]})})]}),el>1&&(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(l.z,{variant:"outline",size:"icon",disabled:1===Z,onClick:()=>V(e=>e-1),children:a.jsx(m.BY8,{className:"w-4 h-4"})}),a.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:el},(e,s)=>s+1).map(e=>a.jsx(l.z,{variant:Z===e?"default":"outline",size:"sm",onClick:()=>V(e),children:e},e))}),a.jsx(l.z,{variant:"outline",size:"icon",disabled:Z===el,onClick:()=>V(e=>e+1),children:a.jsx(m.Ng7,{className:"w-4 h-4"})})]}),ee&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)(d.Zb,{className:"w-full max-w-md",children:[a.jsx(d.Ol,{children:a.jsx(d.ll,{className:"text-destructive",children:"წაშლის დადასტურება"})}),(0,a.jsxs)(d.aY,{className:"space-y-4",children:[a.jsx("p",{children:"ნამდვილად გსურთ ამ კომენტარის წაშლა?"}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[a.jsx(l.z,{variant:"outline",onClick:()=>es(null),children:"გაუქმება"}),a.jsx(l.z,{variant:"destructive",onClick:()=>eo(ee),children:"წაშლა"})]})]})]})}),R&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)(d.Zb,{className:"w-full max-w-md",children:[(0,a.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)(d.ll,{className:"flex items-center gap-2",children:[a.jsx(m.$T2,{className:"w-5 h-5"}),"სპამ ფილტრის პარამეტრები"]}),a.jsx(l.z,{variant:"ghost",size:"icon",onClick:()=>I(!1),children:a.jsx(m.lhV,{className:"w-4 h-4"})})]}),(0,a.jsxs)(d.aY,{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"კომენტარები, რომლებიც შეიცავს ამ სიტყვებს, ავტომატურად მოინიშნება როგორც სპამი."}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(n.I,{placeholder:"ახალი სიტყვა...",value:_,onChange:e=>$(e.target.value),onKeyDown:e=>"Enter"===e.key&&ef()}),a.jsx(l.z,{onClick:ef,children:"დამატება"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:P.map(e=>(0,a.jsxs)(c.C,{variant:"secondary",className:"flex items-center gap-1",children:[e,a.jsx("button",{onClick:()=>ej(e),children:a.jsx(m.lhV,{className:"w-3 h-3"})})]},e))})]})]})}),F&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)(d.Zb,{className:"w-full max-w-md",children:[(0,a.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)(d.ll,{className:"flex items-center gap-2",children:[a.jsx(m.QOK,{className:"w-5 h-5"}),"Email შეტყობინებები"]}),a.jsx(l.z,{variant:"ghost",size:"icon",onClick:()=>q(!1),children:a.jsx(m.lhV,{className:"w-4 h-4"})})]}),(0,a.jsxs)(d.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium",children:"ახალი კომენტარები"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"შეტყობინება ახალი კომენტარების შესახებ"})]}),a.jsx(o.X,{checked:B.notifyOnNew,onCheckedChange:e=>O(s=>({...s,notifyOnNew:!!e}))})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium",children:"პასუხები ავტორს"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"აცნობე ავტორს პასუხის შესახებ"})]}),a.jsx(o.X,{checked:B.notifyAuthorOnReply,onCheckedChange:e=>O(s=>({...s,notifyAuthorOnReply:!!e}))})]}),a.jsx(l.z,{className:"w-full",onClick:()=>q(!1),children:"შენახვა"})]})]})}),G&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)(d.Zb,{className:"w-full max-w-lg max-h-[80vh] overflow-hidden flex flex-col",children:[(0,a.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)(d.ll,{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-secondary/50 flex items-center justify-center text-2xl",children:h(G)}),G,L.has(G)&&a.jsx(c.C,{variant:"destructive",children:"დაბლოკილი"})]}),a.jsx(l.z,{variant:"ghost",size:"icon",onClick:()=>Y(null),children:a.jsx(m.lhV,{className:"w-4 h-4"})})]}),(0,a.jsxs)(d.aY,{className:"flex-1 overflow-y-auto space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"სულ კომენტარები"}),a.jsx("p",{className:"text-2xl font-bold",children:eN(G).length})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"სულ ლაიქები"}),a.jsx("p",{className:"text-2xl font-bold",children:eN(G).reduce((e,s)=>e+s.likes,0)})]}),(0,a.jsxs)(l.z,{variant:L.has(G)?"outline":"destructive",size:"sm",onClick:()=>eD(G),children:[a.jsx(m.s7E,{className:"w-4 h-4 mr-1"}),L.has(G)?"განბლოკვა":"დაბლოკვა"]})]}),(0,a.jsxs)("div",{className:"border-t pt-4",children:[a.jsx("h4",{className:"font-semibold mb-3",children:"კომენტარების ისტორია"}),a.jsx("div",{className:"space-y-3",children:eN(G).map(e=>(0,a.jsxs)("div",{className:"p-3 bg-muted/50 rounded-lg",children:[a.jsx("p",{className:"text-sm",children:e.content}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[a.jsx("span",{children:e.postTitle}),a.jsx("span",{children:p(e.createdAt)}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[a.jsx(m.KdP,{className:"w-3 h-3"}),e.likes]})]})]},e.id))})]})]})]})})]})}},69654:(e,s,t)=>{"use strict";t.d(s,{X:()=>A});var a=t(10326),r=t(17577),l=t(48051),n=t(93095),i=t(82561),c=t(52067),d=t(53405),o=t(2566),u=t(9815),m=t(77335),x="Checkbox",[h,p]=(0,n.b)(x),[f,j]=h(x);function D(e){let{__scopeCheckbox:s,checked:t,children:l,defaultChecked:n,disabled:i,form:d,name:o,onCheckedChange:u,required:m,value:h="on",internal_do_not_use_render:p}=e,[j,D]=(0,c.T)({prop:t,defaultProp:n??!1,onChange:u,caller:x}),[g,v]=r.useState(null),[w,N]=r.useState(null),y=r.useRef(!1),b=!g||!!d||!!g.closest("form"),C={checked:j,disabled:i,setChecked:D,control:g,setControl:v,name:o,form:d,value:h,hasConsumerStoppedPropagationRef:y,required:m,defaultChecked:!k(n)&&n,isFormControl:b,bubbleInput:w,setBubbleInput:N};return(0,a.jsx)(f,{scope:s,...C,children:"function"==typeof p?p(C):l})}var g="CheckboxTrigger",v=r.forwardRef(({__scopeCheckbox:e,onKeyDown:s,onClick:t,...n},c)=>{let{control:d,value:o,disabled:u,checked:x,required:h,setControl:p,setChecked:f,hasConsumerStoppedPropagationRef:D,isFormControl:v,bubbleInput:w}=j(g,e),N=(0,l.e)(c,p),y=r.useRef(x);return r.useEffect(()=>{let e=d?.form;if(e){let s=()=>f(y.current);return e.addEventListener("reset",s),()=>e.removeEventListener("reset",s)}},[d,f]),(0,a.jsx)(m.WV.button,{type:"button",role:"checkbox","aria-checked":k(x)?"mixed":x,"aria-required":h,"data-state":E(x),"data-disabled":u?"":void 0,disabled:u,value:o,...n,ref:N,onKeyDown:(0,i.Mj)(s,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,i.Mj)(t,e=>{f(e=>!!k(e)||!e),w&&v&&(D.current=e.isPropagationStopped(),D.current||e.stopPropagation())})})});v.displayName=g;var w=r.forwardRef((e,s)=>{let{__scopeCheckbox:t,name:r,checked:l,defaultChecked:n,required:i,disabled:c,value:d,onCheckedChange:o,form:u,...m}=e;return(0,a.jsx)(D,{__scopeCheckbox:t,checked:l,defaultChecked:n,disabled:c,required:i,onCheckedChange:o,name:r,form:u,value:d,internal_do_not_use_render:({isFormControl:e})=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v,{...m,ref:s,__scopeCheckbox:t}),e&&(0,a.jsx)(C,{__scopeCheckbox:t})]})})});w.displayName=x;var N="CheckboxIndicator",y=r.forwardRef((e,s)=>{let{__scopeCheckbox:t,forceMount:r,...l}=e,n=j(N,t);return(0,a.jsx)(u.z,{present:r||k(n.checked)||!0===n.checked,children:(0,a.jsx)(m.WV.span,{"data-state":E(n.checked),"data-disabled":n.disabled?"":void 0,...l,ref:s,style:{pointerEvents:"none",...e.style}})})});y.displayName=N;var b="CheckboxBubbleInput",C=r.forwardRef(({__scopeCheckbox:e,...s},t)=>{let{control:n,hasConsumerStoppedPropagationRef:i,checked:c,defaultChecked:u,required:x,disabled:h,name:p,value:f,form:D,bubbleInput:g,setBubbleInput:v}=j(b,e),w=(0,l.e)(t,v),N=(0,d.D)(c),y=(0,o.t)(n);r.useEffect(()=>{if(!g)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,s=!i.current;if(N!==c&&e){let t=new Event("click",{bubbles:s});g.indeterminate=k(c),e.call(g,!k(c)&&c),g.dispatchEvent(t)}},[g,N,c,i]);let C=r.useRef(!k(c)&&c);return(0,a.jsx)(m.WV.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??C.current,required:x,disabled:h,name:p,value:f,form:D,...s,tabIndex:-1,ref:w,style:{...s.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function k(e){return"indeterminate"===e}function E(e){return k(e)?"indeterminate":e?"checked":"unchecked"}C.displayName=b;var z=t(72062),S=t(51223);function A({className:e,...s}){return a.jsx(w,{"data-slot":"checkbox",className:(0,S.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:a.jsx(y,{"data-slot":"checkbox-indicator",className:"grid place-content-center text-current transition-none",children:a.jsx(z.e6w,{className:"size-3.5"})})})}},29280:(e,s,t)=>{"use strict";t.d(s,{Bw:()=>h,DI:()=>d,Ph:()=>c,Ql:()=>f,i4:()=>u,ki:()=>o,n5:()=>p});var a=t(10326),r=t(17577),l=t(75334),n=t(72062),i=t(51223);let c=l.fC,d=l.ZA,o=l.B4,u=r.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(l.xz,{ref:r,className:(0,i.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...t,children:[s,a.jsx(l.JO,{asChild:!0,children:a.jsx(n.YRR,{className:"h-4 w-4 opacity-50"})})]}));u.displayName=l.xz.displayName;let m=r.forwardRef(({className:e,...s},t)=>a.jsx(l.u_,{ref:t,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:a.jsx(n.YeS,{className:"h-4 w-4"})}));m.displayName=l.u_.displayName;let x=r.forwardRef(({className:e,...s},t)=>a.jsx(l.$G,{ref:t,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:a.jsx(n.YRR,{className:"h-4 w-4"})}));x.displayName=l.$G.displayName;let h=r.forwardRef(({className:e,children:s,position:t="popper",...r},n)=>a.jsx(l.h_,{children:(0,a.jsxs)(l.VY,{ref:n,className:(0,i.cn)("relative z-[99999] max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...r,children:[a.jsx(m,{}),a.jsx(l.l_,{className:(0,i.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),a.jsx(x,{})]})}));h.displayName=l.VY.displayName;let p=r.forwardRef(({className:e,...s},t)=>a.jsx(l.__,{ref:t,className:(0,i.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s}));p.displayName=l.__.displayName;let f=r.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(l.ck,{ref:r,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(l.wU,{children:a.jsx(n.e6w,{className:"h-4 w-4"})})}),a.jsx(l.eT,{children:s})]}));f.displayName=l.ck.displayName,r.forwardRef(({className:e,...s},t)=>a.jsx(l.Z0,{ref:t,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",e),...s})).displayName=l.Z0.displayName},82015:(e,s,t)=>{"use strict";t.d(s,{g:()=>n});var a=t(10326),r=t(17577),l=t(51223);let n=r.forwardRef(({className:e,...s},t)=>a.jsx("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:t,...s}));n.displayName="Textarea"},41179:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>l,default:()=>i});var a=t(68570);let r=(0,a.createProxy)(String.raw`C:\Users\User\Desktop\GITHUB\andrewaltair\fresh\src\app\admin\comments\page.tsx`),{__esModule:l,$$typeof:n}=r;r.default;let i=(0,a.createProxy)(String.raw`C:\Users\User\Desktop\GITHUB\andrewaltair\fresh\src\app\admin\comments\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[8948,6051,5334,9287,8628],()=>t(9358));module.exports=a})();