(()=>{var e={};e.id=8188,e.ids=[8188],e.modules={11185:e=>{"use strict";e.exports=require("mongoose")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},24025:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>c,pages:()=>p,routeModule:()=>m,tree:()=>d}),s(32671),s(9457),s(55774),s(7629),s(11930),s(12523);var r=s(23191),a=s(88716),i=s(37922),n=s.n(i),o=s(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["admin",{children:["posts",{children:["edit",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,32671)),"C:\\Users\\User\\Desktop\\GITHUB\\andrewaltair\\fresh\\src\\app\\admin\\posts\\edit\\[id]\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9457)),"C:\\Users\\User\\Desktop\\GITHUB\\andrewaltair\\fresh\\src\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}]},{layout:[()=>Promise.resolve().then(s.bind(s,55774)),"C:\\Users\\User\\Desktop\\GITHUB\\andrewaltair\\fresh\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,7629)),"C:\\Users\\User\\Desktop\\GITHUB\\andrewaltair\\fresh\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,11930)),"C:\\Users\\User\\Desktop\\GITHUB\\andrewaltair\\fresh\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,12523)),"C:\\Users\\User\\Desktop\\GITHUB\\andrewaltair\\fresh\\src\\app\\not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}],p=["C:\\Users\\User\\Desktop\\GITHUB\\andrewaltair\\fresh\\src\\app\\admin\\posts\\edit\\[id]\\page.tsx"],c="/admin/posts/edit/[id]/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/posts/edit/[id]/page",pathname:"/admin/posts/edit/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},65343:(e,t,s)=>{Promise.resolve().then(s.bind(s,18987))},18987:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(10326),a=s(17577),i=s(35047),n=s(81678),o=s(72062);function l({params:e}){let t=(0,i.useRouter)(),[s,l]=a.useState(null),[d,p]=a.useState(!0),{id:c}=a.use(e);a.useEffect(()=>{let e=async()=>{try{let e=await fetch(`/api/posts/${c}`);if(e.ok){let t=(await e.json()).post;l({id:t.id,slug:t.slug,title:t.title,type:t.type||"news",excerpt:t.excerpt,content:t.content,rawContent:t.rawContent,category:t.category,tags:t.tags||[],coverImage:t.coverImage,coverImages:t.coverImages||{},gallery:t.gallery||[],sections:t.sections||[],author:t.author,publishedAt:t.publishedAt,readingTime:t.readingTime,views:t.views,reactions:t.reactions||{fire:0,love:0,mindblown:0,applause:0,insightful:0},featured:t.featured||!1,trending:t.trending||!1,status:t.status||"published",scheduledFor:t.scheduledFor,videos:t.videos||[],relatedPosts:t.relatedPosts||[],seo:t.seo||{metaTitle:"",metaDescription:"",keywords:"",canonicalUrl:"",focusKeyword:"",seoScore:0,ogImage:""}})}else alert("პოსტი ვერ მოიძებნა"),t.push("/admin/posts")}catch(e){console.error("Error fetching post:",e),alert("შეცდომა პოსტის წამოღებისას")}finally{p(!1)}};c&&e()},[c,t]);let u=async e=>{try{let s=await fetch(`/api/posts/${c}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,slug:e.slug||e.title.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]/g,""),readingTime:e.readingTime||Math.ceil((e.rawContent?.split(" ").length||0)/200)})});if(s.ok)alert("პოსტი წარმატებით განახლდა!"),t.push("/admin/posts");else{let e=await s.json();alert(`შეცდომა: ${e.error||"პოსტის განახლება ვერ მოხერხდა"}`)}}catch(e){console.error("Update post error:",e),alert("შეცდომა პოსტის განახლებისას")}};return d?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(o.olI,{className:"w-8 h-8 animate-spin text-primary"})}):s?r.jsx(n.v,{initialData:s,onSave:u,onCancel:()=>{t.push("/admin/posts")}}):null}},32671:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>o});var r=s(68570);let a=(0,r.createProxy)(String.raw`C:\Users\User\Desktop\GITHUB\andrewaltair\fresh\src\app\admin\posts\edit\[id]\page.tsx`),{__esModule:i,$$typeof:n}=a;a.default;let o=(0,r.createProxy)(String.raw`C:\Users\User\Desktop\GITHUB\andrewaltair\fresh\src\app\admin\posts\edit\[id]\page.tsx#default`)}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[8948,6051,9287,8628,1678],()=>s(24025));module.exports=r})();