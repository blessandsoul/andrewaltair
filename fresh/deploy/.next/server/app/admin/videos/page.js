(()=>{var e={};e.id=5312,e.ids=[5312],e.modules={11185:e=>{"use strict";e.exports=require("mongoose")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},50045:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>u,tree:()=>d}),a(67357),a(9457),a(55774),a(7629),a(11930),a(12523);var t=a(23191),l=a(88716),r=a(37922),i=a.n(r),n=a(95231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);a.d(s,c);let d=["",{children:["admin",{children:["videos",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,67357)),"C:\\Users\\User\\Desktop\\GITHUB\\andrewaltair\\fresh\\src\\app\\admin\\videos\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,9457)),"C:\\Users\\User\\Desktop\\GITHUB\\andrewaltair\\fresh\\src\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}]},{layout:[()=>Promise.resolve().then(a.bind(a,55774)),"C:\\Users\\User\\Desktop\\GITHUB\\andrewaltair\\fresh\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,7629)),"C:\\Users\\User\\Desktop\\GITHUB\\andrewaltair\\fresh\\src\\app\\error.tsx"],loading:[()=>Promise.resolve().then(a.bind(a,11930)),"C:\\Users\\User\\Desktop\\GITHUB\\andrewaltair\\fresh\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,12523)),"C:\\Users\\User\\Desktop\\GITHUB\\andrewaltair\\fresh\\src\\app\\not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}],o=["C:\\Users\\User\\Desktop\\GITHUB\\andrewaltair\\fresh\\src\\app\\admin\\videos\\page.tsx"],m="/admin/videos/page",x={require:a,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/admin/videos/page",pathname:"/admin/videos",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},74854:(e,s,a)=>{Promise.resolve().then(a.bind(a,76060))},76060:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>h});var t=a(10326),l=a(17577),r=a(91664),i=a(41190),n=a(38443),c=a(29752),d=a(72062);let o=["ტუტორიალი","მიმოხილვა","ხრიკები","ინტერვიუ","პოდკასტი","ვლოგი"],m=["AI","ChatGPT","Gemini","DALL-E","Automation","Make.com","Prompts","Tutorial","Beginner","Advanced"];function x(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString()}function u(e){let s=e.match(/(?:youtu\.be\/|youtube\.com(?:\/embed\/|\/v\/|\/watch\?v=|\/watch\?.+&v=))([^"&?\/\s]{11})/);return s?s[1]:e}function h(){let[e,s]=l.useState([]),[a,o]=l.useState(!0),[u,h]=l.useState(""),[g,v]=l.useState(null),[f,b]=l.useState(null),[N,y]=l.useState("all"),[w,C]=l.useState(""),[k,S]=l.useState(!1),[z,I]=l.useState(null),[U,D]=l.useState(new Set),[P,$]=l.useState(!1),[E,T]=l.useState(!1),[A,G]=l.useState(!1),[L,_]=l.useState(!1),[q,O]=l.useState(!1),[Y,B]=l.useState(null);l.useEffect(()=>{(async function(){try{let e=await fetch("/api/videos?limit=100");if(e.ok){let a=((await e.json()).videos||[]).map((e,s)=>({...e,id:e.id||e.youtubeId,tags:e.tags||[],status:e.status||"published",order:e.order??s,lastSynced:null}));s(a)}}catch(e){console.error("Error fetching videos:",e)}finally{o(!1)}})()},[]);let M=e.filter(e=>{let s=e.title.toLowerCase().includes(u.toLowerCase())||e.category.toLowerCase().includes(u.toLowerCase()),a="all"===N||e.type===N,t=!w||e.tags&&e.tags.includes(w);return s&&a&&t}).sort((e,s)=>(e.order??0)-(s.order??0)),R=e.reduce((e,s)=>e+s.views,0),H=Math.round(R/e.length),Z=e.filter(e=>"long"===e.type).length,F=e.filter(e=>"short"===e.type).length,V=[...e].sort((e,s)=>s.views-e.views).slice(0,5),J=async a=>{try{(await fetch(`/api/videos/${a}`,{method:"DELETE"})).ok?s(e.filter(e=>e.id!==a)):alert("შეცდომა წაშლისას")}catch(e){console.error("Delete error:",e),alert("შეცდომა წაშლისას")}b(null)},K=async()=>{try{await Promise.all(Array.from(U).map(e=>fetch(`/api/videos/${e}`,{method:"DELETE"}))),s(e.filter(e=>!U.has(e.id))),D(new Set)}catch(e){console.error("Bulk delete error:",e),alert("შეცდომა წაშლისას")}T(!1)},Q=async a=>{try{let t=await fetch(`/api/videos/${a.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(t.ok){let l=await t.json();s(e.map(e=>e.id===a.id?{...a,...l.video}:e)),v(null)}else alert("შეცდომა შენახვისას")}catch(e){console.error("Save error:",e),alert("შეცდომა შენახვისას")}},X=async a=>{try{let t=await fetch("/api/videos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...a,order:e.length})});if(t.ok){let l=await t.json();s([{...a,id:l.video.id,order:e.length},...e]),S(!1)}else alert("შეცდომა დამატებისას")}catch(e){console.error("Add error:",e),alert("შეცდომა დამატებისას")}},W=e=>{let s=new Set(U);s.has(e)?s.delete(e):s.add(e),D(s)},ee=async()=>{O(!0),await new Promise(e=>setTimeout(e,2e3)),s(e.map(e=>({...e,views:e.views+Math.floor(500*Math.random()),lastSynced:new Date().toISOString()}))),O(!1)},es=s=>{let a=new Blob(["json"===s?JSON.stringify(e,null,2):"id,title,youtubeId,category,views,type,publishedAt\n"+e.map(e=>`${e.id},"${e.title}",${e.youtubeId},${e.category},${e.views},${e.type},${e.publishedAt}`).join("\n")],{type:"json"===s?"application/json":"text/csv"}),t=URL.createObjectURL(a),l=document.createElement("a");l.href=t,l.download=`videos.${s}`,l.click(),URL.revokeObjectURL(t)},ea=e=>{B(e)},et=(a,t)=>{if(a.preventDefault(),Y&&Y!==t){let a=e.findIndex(e=>e.id===Y),l=e.findIndex(e=>e.id===t),r=[...e],[i]=r.splice(a,1);r.splice(l,0,i),s(r.map((e,s)=>({...e,order:s})))}},el=()=>{B(null)};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[t.jsx(d.mL_,{className:"w-8 h-8 text-primary"}),"ვიდეოების მართვა"]}),(0,t.jsxs)("p",{className:"text-muted-foreground mt-1",children:[M.length," ვიდეო • ",x(R)," ნახვა"]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsxs)(r.z,{variant:A?"default":"outline",size:"sm",onClick:()=>G(!A),children:[t.jsx(d.hWk,{className:"w-4 h-4 mr-2"}),"ანალიტიკა"]}),(0,t.jsxs)(r.z,{variant:"outline",size:"sm",onClick:ee,disabled:q,children:[t.jsx(d.T8D,{className:`w-4 h-4 mr-2 ${q?"animate-spin":""}`}),q?"სინქრონიზაცია...":"YouTube Sync"]}),(0,t.jsxs)(r.z,{variant:"outline",size:"sm",onClick:()=>_(!L),children:[t.jsx(d.HXz,{className:"w-4 h-4 mr-2"}),"Import/Export"]}),(0,t.jsxs)(r.z,{onClick:()=>S(!0),children:[t.jsx(d.rIf,{className:"w-4 h-4 mr-2"}),"ვიდეოს დამატება"]})]})]}),L&&t.jsx(c.Zb,{className:"border-dashed",children:t.jsx(c.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,t.jsxs)(r.z,{variant:"outline",size:"sm",onClick:()=>es("json"),children:[t.jsx(d.Bb$,{className:"w-4 h-4 mr-2"}),"Export JSON"]}),(0,t.jsxs)(r.z,{variant:"outline",size:"sm",onClick:()=>es("csv"),children:[t.jsx(d.aFM,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),t.jsx("div",{className:"border-l mx-2"}),(0,t.jsxs)(r.z,{variant:"outline",size:"sm",children:[t.jsx(d.S7F,{className:"w-4 h-4 mr-2"}),"Import CSV"]}),(0,t.jsxs)(r.z,{variant:"outline",size:"sm",children:[t.jsx(d.YRG,{className:"w-4 h-4 mr-2"}),"Import from YouTube Playlist"]})]})})}),A&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx(c.Zb,{children:t.jsx(c.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:t.jsx(d.mL_,{className:"w-5 h-5 text-primary"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:e.length}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"სულ ვიდეო"})]})]})})}),t.jsx(c.Zb,{children:t.jsx(c.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:t.jsx(d.f7Q,{className:"w-5 h-5 text-green-500"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:x(R)}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"სულ ნახვა"})]})]})})}),t.jsx(c.Zb,{children:t.jsx(c.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:t.jsx(d.ehl,{className:"w-5 h-5 text-blue-500"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:x(H)}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"საშუალო ნახვა"})]})]})})}),t.jsx(c.Zb,{children:t.jsx(c.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:t.jsx(d.aSH,{className:"w-5 h-5 text-purple-500"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-2xl font-bold",children:[Z,"/",F]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Long/Short"})]})]})})})]}),(0,t.jsxs)(c.Zb,{children:[t.jsx(c.Ol,{className:"pb-2",children:t.jsx(c.ll,{className:"text-lg",children:"ტოპ 5 პოპულარული ვიდეო"})}),t.jsx(c.aY,{children:t.jsx("div",{className:"space-y-2",children:V.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted/50",children:[t.jsx("span",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center text-sm font-bold",children:s+1}),t.jsx("img",{src:`https://img.youtube.com/vi/${e.youtubeId}/default.jpg`,alt:e.title,className:"w-16 h-9 rounded object-cover"}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsx("p",{className:"font-medium truncate",children:e.title})}),(0,t.jsxs)(n.C,{variant:"secondary",children:[x(e.views)," ნახვა"]})]},e.id))})})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,t.jsxs)(r.z,{variant:"ghost",size:"sm",onClick:()=>{U.size===M.length?D(new Set):D(new Set(M.map(e=>e.id)))},className:"gap-2",children:[U.size===M.length&&M.length>0?t.jsx(d.bGJ,{className:"w-4 h-4"}):t.jsx(d.MhI,{className:"w-4 h-4"}),U.size>0?`${U.size} არჩეული`:"აირჩიე"]}),U.size>0&&t.jsx("div",{className:"flex gap-2",children:(0,t.jsxs)(r.z,{variant:"destructive",size:"sm",onClick:()=>T(!0),children:[t.jsx(d.EF5,{className:"w-4 h-4 mr-2"}),"წაშლა (",U.size,")"]})}),t.jsx("div",{className:"flex-1"}),(0,t.jsxs)("select",{value:w,onChange:e=>C(e.target.value),className:"px-3 py-2 rounded-md border border-input bg-background text-sm",children:[t.jsx("option",{value:"",children:"ყველა თეგი"}),m.map(e=>t.jsx("option",{value:e,children:e},e))]}),t.jsx("div",{className:"flex rounded-lg border overflow-hidden",children:["all","long","short"].map(e=>t.jsx("button",{onClick:()=>y(e),className:`px-3 py-2 text-sm font-medium transition-colors ${N===e?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:"all"===e?"ყველა":"long"===e?"Long":"Short"},e))}),(0,t.jsxs)("div",{className:"relative w-full sm:w-60",children:[t.jsx(d.adB,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),t.jsx(i.I,{placeholder:"ძიება...",value:u,onChange:e=>h(e.target.value),className:"pl-10"})]})]}),t.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:M.map(e=>(0,t.jsxs)(c.Zb,{className:`group hover:shadow-lg transition-all overflow-hidden ${U.has(e.id)?"ring-2 ring-primary":""} ${Y===e.id?"opacity-50":""}`,draggable:!0,onDragStart:()=>ea(e.id),onDragOver:s=>et(s,e.id),onDragEnd:el,children:[(0,t.jsxs)("div",{className:"relative aspect-video bg-muted",children:[t.jsx("img",{src:`https://img.youtube.com/vi/${e.youtubeId}/mqdefault.jpg`,alt:e.title,className:"w-full h-full object-cover",onError:e=>{e.target.src="/placeholder-video.jpg"}}),t.jsx("button",{onClick:s=>{s.stopPropagation(),W(e.id)},className:"absolute top-2 left-2 p-1 bg-black/60 rounded hover:bg-black/80 transition-colors",children:U.has(e.id)?t.jsx(d.bGJ,{className:"w-5 h-5 text-primary"}):t.jsx(d.MhI,{className:"w-5 h-5 text-white"})}),t.jsx("div",{className:"absolute top-2 left-10 p-1 bg-black/60 rounded cursor-grab opacity-0 group-hover:opacity-100 transition-opacity",children:t.jsx(d.BoD,{className:"w-5 h-5 text-white"})}),t.jsx("button",{onClick:()=>I(e),className:"absolute inset-0 flex items-center justify-center bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity",children:t.jsx("div",{className:"w-14 h-14 bg-red-600 rounded-full flex items-center justify-center",children:t.jsx(d.y82,{className:"w-7 h-7 text-white fill-white ml-1"})})}),t.jsx(n.C,{className:"absolute top-2 right-2",variant:"short"===e.type?"default":"secondary",children:"short"===e.type?"Short":"Long"}),e.status&&"published"!==e.status&&t.jsx(n.C,{className:"absolute top-9 right-2",variant:"scheduled"===e.status?"outline":"secondary",children:"scheduled"===e.status?(0,t.jsxs)(t.Fragment,{children:[t.jsx(d.RgR,{className:"w-3 h-3 mr-1"}),"Scheduled"]}):"Draft"}),t.jsx("div",{className:"absolute bottom-2 right-2 bg-black/80 text-white text-xs px-2 py-1 rounded",children:e.duration})]}),(0,t.jsxs)(c.aY,{className:"p-4",children:[t.jsx("h3",{className:"font-semibold truncate",children:e.title}),t.jsx("p",{className:"text-sm text-muted-foreground truncate mt-1",children:e.description}),e.tags&&e.tags.length>0&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.tags.slice(0,3).map(e=>(0,t.jsxs)(n.C,{variant:"outline",className:"text-xs",children:[t.jsx(d.b2n,{className:"w-2.5 h-2.5 mr-1"}),e]},e)),e.tags.length>3&&(0,t.jsxs)(n.C,{variant:"outline",className:"text-xs",children:["+",e.tags.length-3]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-3 text-sm text-muted-foreground",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[t.jsx(d.f7Q,{className:"w-4 h-4"}),x(e.views)]}),t.jsx(n.C,{variant:"outline",children:e.category}),e.scheduledAt&&(0,t.jsxs)("span",{className:"flex items-center gap-1 text-xs",children:[t.jsx(d.RgR,{className:"w-3 h-3"}),new Date(e.scheduledAt).toLocaleDateString("ka-GE",{year:"numeric",month:"short",day:"numeric"})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,t.jsxs)(r.z,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>v(e),children:[t.jsx(d.EMN,{className:"w-4 h-4 mr-2"}),"რედაქტირება"]}),t.jsx(r.z,{variant:"ghost",size:"icon",onClick:()=>window.open(`https://youtube.com/watch?v=${e.youtubeId}`,"_blank"),children:t.jsx(d.Ma9,{className:"w-4 h-4"})}),t.jsx(r.z,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>b(e.id),children:t.jsx(d.EF5,{className:"w-4 h-4"})})]})]})]},e.id))}),k&&t.jsx(p,{onSave:X,onClose:()=>S(!1)}),g&&t.jsx(j,{video:g,onSave:Q,onClose:()=>v(null)}),z&&t.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"relative w-full max-w-4xl",children:[t.jsx(r.z,{variant:"ghost",size:"icon",className:"absolute -top-12 right-0 text-white hover:bg-white/20",onClick:()=>I(null),children:t.jsx(d.lhV,{className:"w-6 h-6"})}),t.jsx("div",{className:"aspect-video bg-black rounded-lg overflow-hidden",children:t.jsx("iframe",{src:`https://www.youtube.com/embed/${z.youtubeId}?autoplay=1`,className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),t.jsx("p",{className:"text-white text-center mt-4 font-medium",children:z.title})]})}),f&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,t.jsxs)(c.Zb,{className:"w-full max-w-md",children:[t.jsx(c.Ol,{children:t.jsx(c.ll,{className:"text-destructive",children:"წაშლის დადასტურება"})}),(0,t.jsxs)(c.aY,{className:"space-y-4",children:[t.jsx("p",{children:"ნამდვილად გსურთ ამ ვიდეოს წაშლა?"}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[t.jsx(r.z,{variant:"outline",onClick:()=>b(null),children:"გაუქმება"}),t.jsx(r.z,{variant:"destructive",onClick:()=>J(f),children:"წაშლა"})]})]})]})}),E&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,t.jsxs)(c.Zb,{className:"w-full max-w-md",children:[t.jsx(c.Ol,{children:t.jsx(c.ll,{className:"text-destructive",children:"მასობრივი წაშლა"})}),(0,t.jsxs)(c.aY,{className:"space-y-4",children:[(0,t.jsxs)("p",{children:["ნამდვილად გსურთ ",U.size," ვიდეოს წაშლა?"]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[t.jsx(r.z,{variant:"outline",onClick:()=>T(!1),children:"გაუქმება"}),(0,t.jsxs)(r.z,{variant:"destructive",onClick:K,children:["წაშლა (",U.size,")"]})]})]})]})})]})}function p({onSave:e,onClose:s}){let[a,x]=l.useState({title:"",description:"",youtubeId:"",category:o[0],duration:"",type:"long",tags:[],status:"published",scheduledAt:"",views:0,publishedAt:new Date().toISOString().split("T")[0]}),[h,p]=l.useState(""),j=e=>{let s=u(e);x({...a,youtubeId:s})},g=e=>{e&&!a.tags.includes(e)&&(x({...a,tags:[...a.tags,e]}),p(""))},v=e=>{x({...a,tags:a.tags.filter(s=>s!==e)})};return t.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,t.jsxs)(c.Zb,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between",children:[(0,t.jsxs)(c.ll,{className:"flex items-center gap-2",children:[t.jsx(d.rIf,{className:"w-5 h-5"}),"ახალი ვიდეოს დამატება"]}),t.jsx(r.z,{variant:"ghost",size:"icon",onClick:s,children:t.jsx(d.lhV,{className:"w-4 h-4"})})]}),t.jsx(c.aY,{children:(0,t.jsxs)("form",{onSubmit:s=>{s.preventDefault(),e(a)},className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"სათაური *"}),t.jsx(i.I,{required:!0,value:a.title,onChange:e=>x({...a,title:e.target.value}),placeholder:"ვიდეოს სათაური"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"აღწერა"}),t.jsx("textarea",{className:"w-full min-h-[80px] px-3 py-2 rounded-md border border-input bg-background",value:a.description,onChange:e=>x({...a,description:e.target.value}),placeholder:"ვიდეოს აღწერა"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"YouTube URL ან ID *"}),t.jsx(i.I,{required:!0,value:a.youtubeId,onChange:e=>j(e.target.value),placeholder:"https://youtube.com/watch?v=... ან ID"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"კატეგორია"}),t.jsx("select",{value:a.category,onChange:e=>x({...a,category:e.target.value}),className:"w-full px-3 py-2 rounded-md border border-input bg-background",children:o.map(e=>t.jsx("option",{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"ხანგრძლივობა"}),t.jsx(i.I,{value:a.duration,onChange:e=>x({...a,duration:e.target.value}),placeholder:"12:34"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"ტიპი"}),t.jsx("div",{className:"flex gap-2",children:["long","short"].map(e=>t.jsx("button",{type:"button",onClick:()=>x({...a,type:e}),className:`flex-1 px-3 py-2 rounded-md border text-sm font-medium transition-colors ${a.type===e?"bg-primary text-primary-foreground border-primary":"border-input hover:bg-muted"}`,children:"long"===e?"Long":"Short"},e))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"თეგები"}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:a.tags.map(e=>(0,t.jsxs)(n.C,{variant:"secondary",className:"gap-1",children:[e,t.jsx("button",{type:"button",onClick:()=>v(e),children:t.jsx(d.lhV,{className:"w-3 h-3"})})]},e))}),(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx(i.I,{value:h,onChange:e=>p(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),g(h)),placeholder:"თეგის დამატება...",className:"flex-1"}),t.jsx(r.z,{type:"button",variant:"outline",onClick:()=>g(h),children:t.jsx(d.rIf,{className:"w-4 h-4"})})]}),t.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:m.filter(e=>!a.tags.includes(e)).slice(0,5).map(e=>(0,t.jsxs)(n.C,{variant:"outline",className:"cursor-pointer hover:bg-muted",onClick:()=>g(e),children:["+ ",e]},e))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"სტატუსი"}),(0,t.jsxs)("select",{value:a.status,onChange:e=>x({...a,status:e.target.value}),className:"w-full px-3 py-2 rounded-md border border-input bg-background",children:[t.jsx("option",{value:"published",children:"გამოქვეყნებული"}),t.jsx("option",{value:"draft",children:"დრაფტი"}),t.jsx("option",{value:"scheduled",children:"დაგეგმილი"})]})]}),"scheduled"===a.status&&(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"გამოქვეყნების თარიღი"}),t.jsx(i.I,{type:"datetime-local",value:a.scheduledAt,onChange:e=>x({...a,scheduledAt:e.target.value})})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[t.jsx(r.z,{type:"button",variant:"outline",onClick:s,children:"გაუქმება"}),(0,t.jsxs)(r.z,{type:"submit",children:[t.jsx(d.rIf,{className:"w-4 h-4 mr-2"}),"დამატება"]})]})]})})]})})}function j({video:e,onSave:s,onClose:a}){let[x,h]=l.useState({title:e.title,description:e.description,youtubeId:e.youtubeId,category:e.category,duration:e.duration,type:e.type,tags:e.tags||[],status:e.status||"published",scheduledAt:e.scheduledAt||""}),[p,j]=l.useState(""),g=e=>{e&&!x.tags.includes(e)&&(h({...x,tags:[...x.tags,e]}),j(""))},v=e=>{h({...x,tags:x.tags.filter(s=>s!==e)})};return t.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,t.jsxs)(c.Zb,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between",children:[t.jsx(c.ll,{children:"ვიდეოს რედაქტირება"}),t.jsx(r.z,{variant:"ghost",size:"icon",onClick:a,children:t.jsx(d.lhV,{className:"w-4 h-4"})})]}),t.jsx(c.aY,{children:(0,t.jsxs)("form",{onSubmit:a=>{a.preventDefault(),s({...e,...x})},className:"space-y-4",children:[t.jsx("div",{className:"aspect-video bg-muted rounded-lg overflow-hidden",children:t.jsx("img",{src:`https://img.youtube.com/vi/${x.youtubeId}/mqdefault.jpg`,alt:x.title,className:"w-full h-full object-cover"})}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"სათაური"}),t.jsx(i.I,{value:x.title,onChange:e=>h({...x,title:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"აღწერა"}),t.jsx("textarea",{className:"w-full min-h-[80px] px-3 py-2 rounded-md border border-input bg-background",value:x.description,onChange:e=>h({...x,description:e.target.value})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"YouTube ID"}),t.jsx(i.I,{value:x.youtubeId,onChange:e=>h({...x,youtubeId:u(e.target.value)})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"კატეგორია"}),t.jsx("select",{value:x.category,onChange:e=>h({...x,category:e.target.value}),className:"w-full px-3 py-2 rounded-md border border-input bg-background",children:o.map(e=>t.jsx("option",{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"ხანგრძლივობა"}),t.jsx(i.I,{value:x.duration,onChange:e=>h({...x,duration:e.target.value}),placeholder:"12:34"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"ტიპი"}),t.jsx("div",{className:"flex gap-2",children:["long","short"].map(e=>t.jsx("button",{type:"button",onClick:()=>h({...x,type:e}),className:`flex-1 px-3 py-2 rounded-md border text-sm font-medium transition-colors ${x.type===e?"bg-primary text-primary-foreground border-primary":"border-input hover:bg-muted"}`,children:"long"===e?"Long":"Short"},e))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"თეგები"}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:x.tags.map(e=>(0,t.jsxs)(n.C,{variant:"secondary",className:"gap-1",children:[e,t.jsx("button",{type:"button",onClick:()=>v(e),children:t.jsx(d.lhV,{className:"w-3 h-3"})})]},e))}),(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx(i.I,{value:p,onChange:e=>j(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),g(p)),placeholder:"თეგის დამატება...",className:"flex-1"}),t.jsx(r.z,{type:"button",variant:"outline",onClick:()=>g(p),children:t.jsx(d.rIf,{className:"w-4 h-4"})})]}),t.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:m.filter(e=>!x.tags.includes(e)).slice(0,5).map(e=>(0,t.jsxs)(n.C,{variant:"outline",className:"cursor-pointer hover:bg-muted",onClick:()=>g(e),children:["+ ",e]},e))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"სტატუსი"}),(0,t.jsxs)("select",{value:x.status,onChange:e=>h({...x,status:e.target.value}),className:"w-full px-3 py-2 rounded-md border border-input bg-background",children:[t.jsx("option",{value:"published",children:"გამოქვეყნებული"}),t.jsx("option",{value:"draft",children:"დრაფტი"}),t.jsx("option",{value:"scheduled",children:"დაგეგმილი"})]})]}),"scheduled"===x.status&&(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"გამოქვეყნების თარიღი"}),t.jsx(i.I,{type:"datetime-local",value:x.scheduledAt,onChange:e=>h({...x,scheduledAt:e.target.value})})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[t.jsx(r.z,{type:"button",variant:"outline",onClick:a,children:"გაუქმება"}),(0,t.jsxs)(r.z,{type:"submit",children:[t.jsx(d.yRg,{className:"w-4 h-4 mr-2"}),"შენახვა"]})]})]})})]})})}},67357:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>i,__esModule:()=>r,default:()=>n});var t=a(68570);let l=(0,t.createProxy)(String.raw`C:\Users\User\Desktop\GITHUB\andrewaltair\fresh\src\app\admin\videos\page.tsx`),{__esModule:r,$$typeof:i}=l;l.default;let n=(0,t.createProxy)(String.raw`C:\Users\User\Desktop\GITHUB\andrewaltair\fresh\src\app\admin\videos\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[8948,6051,9287,8628],()=>a(50045));module.exports=t})();